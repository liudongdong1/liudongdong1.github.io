# UML各类关系介绍


> **泛化 \**=\** 实现 \**>\** 组合 \**>\** 聚合 \**>\** 关联 \**>\** 依赖**

![](https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20210627210929576.png)

## 继承关系（generalization）

**继承**关系用一条带**空心箭头的直线**表示。如下图所示（A继承自B）：

![A继承自B](http://static.blinkfox.com/uml_demo_1.png)

**继承**指的是一个类（称为子类、子接口）继承另外的一个类（称为父类、父接口）的功能，并可以增加它自己的新功能的能力。**继承关系为`is-a`的关系**，是类与类或者接口与接口之间最常见的关系之一，在Java中此类关系通过关键字`extends`来表示。

> **注意**：表现在代码中，继承关系表现为**一个类继承另一个类或者一个接口继承另一个接口**。

## 实现关系（realization）

**实现**关系是用一条带**空心箭头的虚线**表示。如下图所示（A实现B）：：

![A实现B](http://static.blinkfox.com/uml_demo_2.png)

**实现**指的是一个`class`类实现`interface`接口（可以是多个）的功能。实现是类与接口之间最常见的关系之一，在Java中此类关系通过关键字`implements`来表示。

> **注意**：表现在代码中，实现关系表现为**普通类实现某个接口**。

## 关联关系（association）

【关联关系】：是一种拥有的关系, 它使一个类知道另一个类的属性和方法；如：老师与学生，丈夫与妻子

关联可以是双向的，也可以是单向的。双向的关联可以有两个箭头或者没有箭头，单向的关联有一个箭头。

【代码体现】：成员变量

【箭头及指向】：带普通箭头（或实心三角形箭头）的实心线，指向被拥有者

![](https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20210627201741304.png)

> 老师与学生是双向关联，老师有多名学生，学生也可能有多名老师。但学生与某课程间的关系为单向关联，一名学生可能要上多门课程，课程是个抽象的东西他不拥有学生。

## 聚合关系（aggregation）

**聚合**关系用一条带**空心菱形箭头的直线**表示，如下图所示A聚合到B，或者说B由A组成。

![A聚合到B](http://static.blinkfox.com/uml_demo_4.png)

**聚合**关系用于表示实体对象之间的关系，表示整体由部分构成的意思。**聚合是关联关系的一种特例，它体现的是整体与部分、拥有的关系，即`has-a`的关系**，此时整体与部分之间是**可分离**的，他们可以具有各自的生命周期，部分可以属于多个整体对象，也可以为多个整体对象共享。例如一个部门由多个员工组成。

> **注意**：表现在代码中，和关联关系是一致的，只能从语义级别来区分。聚合与组合不同的是，整体和部分不是强依赖的，即使整体不存在了，部分仍然存在；例如，部门撤销了，人员不会消失，他们依然存在。

## 组合关系（composition）

**组合**关系用一条带**实心菱形箭头的直线**表示，如下图表示A组成B，或者B由A组成。

![A组合到B](http://static.blinkfox.com/uml_demo_5.png)

**组合**关系同样表示整体由部分组成的意思。与聚合关系一样，**组合也是关联关系的一种特例，它体现的是一种整体与部分不可分割的关系，即`contains-a`的关系，这种关系比聚合更强，也称为强聚合**。例如公司由多个部门组成组合，但此时整体与部分是**不可分离**的，整体的生命周期结束也就意味着部分的生命周期结束。

> **注意**：表现在代码中，和关联关系是一致的，只能从语义级别来区分。组合关系是一种强依赖的特殊聚合关系，如果整体不存在了，则部分也就不存在了。例如，公司不存在了，部门也将不存在了。

## 依赖关系（dependency）

**依赖**关系是用一套**带箭头的虚线**表示的；如下图表示A依赖于B；他描述一个对象在运行期间会用到另一个对象的关系。

![A依赖于B](http://static.blinkfox.com/uml_demo_6.png)

**依赖**关系是一个类A使用到了另一个类B，而这种使用关系是具有偶然性的、临时性的、非常弱的，但是B类的变化会影响到A，与关联关系不同的是，它是一种**临时性**的关系，通常在运行期间产生，并且随着运行时的变化依赖关系也可能发生变化。

显然，依赖也有方向，双向依赖是一种非常糟糕的结构，我们总是应该保持单向依赖，杜绝双向依赖的产生。

> **注意**：表现在代码中，依赖关系体现为**类的构造方法及类方法的传入参数**。

## UML类关系图示例

请看以下这个UML类关系图：

![UML示例](http://static.blinkfox.com/uml_demo_0.png)

- 开车的类图结构表示的是一个接口
- 有一个自行车的抽象类，实现了开车的接口，它们之间的关系为实现关系，使用带空心三角箭头的虚线表示
- 自行车与摩拜单车之间是继承关系，使用带空心三角箭头的实线表示
- 学生上学需要用到摩拜单车，与摩拜单车是一种依赖关系，使用带箭头的虚线表示
- 学生与身份证之间为关联关系，使用一根实线表示，如果两个类之间互相通过属性引用，则是双向关联关系
- 学生与班级、学生与学校之间是聚合关系，使用带空心菱形箭头的实线表示
- 学校与班级是组合关系，使用带实心菱形箭头的实线表示

---

> 作者: blinkfox  
> URL: liudongdong1.github.io/uml%E5%90%84%E7%B1%BB%E5%85%B3%E7%B3%BB%E4%BB%8B%E7%BB%8D/  

