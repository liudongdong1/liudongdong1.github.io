# 虚拟化存储


>存储虚拟化 (Storage Virtualization) 最通俗的理解就是`对存储硬件资源进行抽象化表现`。通过将一个（或多个）目标（Target）服务或功能与其它附加的功能集成，`统一提供有用的全面功能服务`。典型的虚拟化包括如下一些情况：屏蔽系统的复杂性，增加或集成新的功能，仿真、整合或分解现有的服务功能等。虚拟化是作用在一个或者多个实体上的，而这些实体则是用来提供存储资源或 / 及服务的。
>
>- 提供标准化的上层接入
>- 提供统一的数据管理；包括（快照，复制，迁移，镜像）
>- 提供空间资源整合，隔离不同设备的差异性，虚拟存储池  ？？ 虚拟存储池是怎么进行设计的

### 1. 存储虚拟化分类

![](https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220307154014138.png)

#### .1. 实现位置分类

##### .1. 基于主机的存储虚拟化

- **定义：**指一个虚拟化主机在客户操作系统上呈现存储的方式。
- **动态扩展虚拟磁盘案例：**虚拟机利用的是虚拟磁盘，但由主机呈现给 VM 就如同一张物理盘。动态扩展虚拟盘开始消耗很小的物理磁盘空间，随着虚拟机添加到文件的数据的增长不断扩大。这台虚拟机不能看到底层文件以及动态扩展 —— 它只能看到虚拟磁盘。

![](https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220307154143736.png)

##### .2. 基于存储设备，存储子系统虚拟化

- 基于阵列的存储虚拟化支持存储分层：例如，SSD 置于高速访问层，HDD 在标准层。当管理员创建 LUN 的时候，LUN 包括有来自高速层和标准层的磁盘。
- 高速层一般作为读或写缓存。数据开始被写入高速层，然后自动转移到标准层。频繁访问的数据也被自动的转到高速层，而访问不频繁的数据将留在标准层。这种数据自动分层提升了整体的性能。这个过程在阵列级执行并对 OS 透明。
- **固态硬盘：**数据读写时无需机械运动，通过集成电路的扫描和开关作用进行数据读写。

![](https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220307154644964.png)

##### .3. 基于网络虚拟化

- **光纤存储：**一种围`绕光纤通道应用创建存储虚拟化`的通用术语。一些厂商将 FC SAN 作为一种基于网络的存储虚拟化类型，由于这种类型的` FC 交换机能够虚拟化并重定向 I/O 请求到物理存储，而无需消耗服务器资源`。
- **路由器虚拟化：** 路由器被放置于`每个主机到存储网络的数据通道中`，用来`截取网络中任何一个从主机到存储系统的命令`。由于路由器潜在地为每一台主机服务，大多数控制模块存在于路由器的`固件中`.
- **基于互联设备虚拟化：** 基于互联设备的方法如果是对称的，那么控制信息和数据走在同一条通道上；如果是不对称的，控制信息和数据走在不同的路径上。

![](https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220307154739461.png)

### 2. 研究内容

#### .1. 融合存储体系结构与服务架构研究

>研究面向服务的异构融合存储体系结构理论、网络数据存取复杂性理论、访问特征获取和服务需求表达；研究存储服务架构与服务评价模型、服务适配模型、存储按需服务机制；在融合存储体系框架下，研究大规模异构存储系统中多层面信息发现、感知和融合的存储智能化方法；研究基于感知的存储实体自治协作的方法。
>
>- 异构融合存储体系结构研究
>- 服务架构与服务评价模型
>- 基于感知的存储智能化方法。

#### .2. 海量数据组织与资源共享

>研究数据对象和资源对象的`动态组织和管理`，`数据对象定位和获取方法及资源共享方法`，研究`按需服务`的`数据迁移技术`，以提高各种存储资源的利用效率。
>
>- 数据对象和资源对象的动态组织、管理原理和方法
>- 复杂应用环境中动态、大容量的数据迁移研究
>- 面向复杂应用环境下的资源共享方法
>- 面向复杂应用环境的数据对象定位及获取方法研究

#### .3. **云存储服务和保障机制研究**

>以保障云存储服务的安全可靠为宗旨，重点研究在复杂的网络环境下用户协作的外延服务保障机制及其相关的理论和方法；研究旨在提高云存储服务的可用性和可靠性的混合型云存储新型构架；研究保障云存储服务的安全策略，从而达到经济、高效、灵活、方便地使用云存储服务的目的。
>
>- 云存储服务架构
>- 基于协作的云存储外延服务保障机制
>- 云存储安全策略
>- 云存储数据副本机制

![](../../../../blogimgv2022/image-20220724112752114.png)

### Resource:

- [复旦大学：973项目研究](http://storage.hust.edu.cn/a973xm/xmgk/xmjs.htm) **面向复杂应用环境的数据存储系统理论与技术基础研究**

---

> 作者: liudongdong1  
> URL: https://liudongdong1.github.io/%E8%99%9A%E6%8B%9F%E5%8C%96%E5%AD%98%E5%82%A8/  

