# Android_资源文件&使用


| 目录      | 资源类型                                                     |
| :-------- | :----------------------------------------------------------- |
| anim/     | 定义动画属性的XML文件。它们被保存在res/anim/文件夹下，通过`R.anim`类访问 |
| color/    | 定义颜色状态列表的XML文件。它们被保存在res/color/文件夹下，通过`R.color`类访问 |
| drawable/ | 图片文件，如.png,.jpg,.gif或者XML文件，被编译为位图、状态列表、形状、动画图片。它们被保存在res/drawable/文件夹下，通过`R.drawable`类访问 |
| layout/   | 定义用户界面布局的XML文件。它们被保存在res/layout/文件夹下，通过`R.layout`类访问 |
| menu/     | 定义应用程序菜单的XML文件，如选项菜单，上下文菜单，子菜单等。它们被保存在res/menu/文件夹下，通过`R.menu`类访问 |
| raw/      | 任意的文件以它们的原始形式保存。需要根据名为`R.raw.filename的资源ID`，通过调用`Resource.openRawResource()来打开raw文件` |
| values/   | 包含简单值(如字符串，整数，颜色等)的XML文件。这里有一些文件夹下的资源命名规范。arrays.xml代表数组资源，通过`R.array`类访问；integers.xml代表整数资源，通过`R.integer`类访问；bools.xml代表布尔值资源，通过`R.bool`类访问；colors.xml代表颜色资源，通过`R.color`类访问；dimens.xml代表维度值，通过`R.dimen`类访问；strings.xml代表字符串资源，通过`R.string`类访问；styles.xml代表样式资源，通过`R.style`类访问 |
| xml/      | 可以通过调用`Resources.getXML()`来在运行时读取任意的XML文件。可以在这里保存运行时使用的各种配置文件 |

### 1. R.java 文件

- 除了原始文件目录`/res/raw和/assets`以外，其他的资源在编译的时候都会被第三方软件aapt进行处理，一个是把图片和XML文件进行处理，例如把XML编译成为二进制形式；另外处理的目的就是生成R.java文件，这个文件是访问资源时必须要用到的。
- /res目录下面的所有文件都会映射到R.java文件中，以整数Id的形式被标识，相同类型的资源被一个内部类来封装，一个R.java的文件类似于这样
- 同一个类型，或同一文件夹下面的资源不可以使用相同的文件名
- `除了SDK支持的folder外，不能再有子Folder`，虽不会有编译错误，但是子Folder会被完全忽略，如在/res/layout下在建一个子Folder activity(/res/layout/acitivity/， 那么你在生成的R.java中是看不到activity和其内的内容的。
- 对于资源文件的大小有限制，最好不要让单个文件大于1M
- 所有/res下面的资源都能通过Resources()并提供Id来访问
- `/assets是允许有子目录的`，并且完全可以访问到，并且会被打包进Apk，解压Apk后，这些文件仍然存在并且与源码包中的一样。

```java
/* AUTO-GENERATED FILE.  DO NOT MODIFY.
 *
 * This class was automatically generated by the
 * aapt tool from the resource data it found.  It
 * should not be modified by hand.
 */
package com.android.explorer;
public final class R {
    public static final class attr {
    }
    public static final class drawable {
        public static final int icon=0x7f020000;
    }
    public static final class id {
        public static final int action=0x7f060004;
        public static final int description_panel=0x7f060001;
        public static final int fileinfo=0x7f060003;
        public static final int filename=0x7f060002;
        public static final int linearlayout_test_1=0x7f060005;
        public static final int linearlayout_test_2=0x7f060006;
        public static final int linearlayout_test_3=0x7f060007;
        public static final int thumbnail=0x7f060000;
    }
    public static final class layout {
        public static final int fileant_list_item=0x7f030000;
        public static final int linearlayout_test=0x7f030001;
    }
    public static final class raw {
        public static final int androidmanifest=0x7f040000;
    }
    public static final class string {
        public static final int app_name=0x7f050001;
        public static final int hello=0x7f050000;
    }
}
```

### 2. 访问使用

![](https://gitee.com/github-25970295/blogimgv2022/raw/master/Center.png)

- /res/raw下面的文件(子文件夹是访问不到的了)的访问方式是通过Resources，并且必须提供资源的Id

```java
public String getFromRaw(){ 
    try { 
        InputStreamReader inputReader = new InputStreamReader( getResources().openRawResource(R.raw.test1));
        BufferedReader bufReader = new BufferedReader(inputReader);
        String line="";
        String Result="";
        while((line = bufReader.readLine()) != null)
            Result += line;
        return Result;
    } catch (Exception e) { 
        e.printStackTrace(); 
    }             
} 
```

- /res 其他文件访问
- **/assets**

```java
public String getFromAssets(String fileName){ 
    try { 
        InputStreamReader inputReader = new InputStreamReader( getResources().getAssets().open(fileName) ); 
        BufferedReader bufReader = new BufferedReader(inputReader);
        String line="";
        String Result="";
        while((line = bufReader.readLine()) != null)
            Result += line;
        return Result;
    } catch (Exception e) { 
        e.printStackTrace(); 
    }
}
```

- Properties 文件读取

```java
//assets文件夹
Properties pro = new Properties();
InputStream is = context.getAssets().open("test.properties");
pro.load(is);
//raw 文件夹下
InputStream is = context.getResources().openRawResource(R.raw.test);
//java 传统方式
Properties pro = new Properties();
pro.load(FileLoad.class.getResourceAsStream("/assets/test.properties")); //或者/res/raw/test.properties
```

#### Todo

- todo? 后续具体工程代码中遇到在进行总结

---

> 作者: liudongdong1  
> URL: liudongdong1.github.io/android_%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E5%8F%8A%E4%BD%BF%E7%94%A8/  

