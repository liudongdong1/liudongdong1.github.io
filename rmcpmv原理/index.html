<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>rm&amp;cp&amp;mv原理 - DAY By DAY</title><meta name=author content="LiuDongdong"><meta name=author-link content="https://liudongdong1.github.io/"><meta name=description content="在 linux 系统中，磁盘通常被格式化为 ext3 或 ext4 格式，这两种文件系统对文件的存储和访问是通过一种被称为 inode 即 i 节点的机制来实现的。 当我们读写文件时，通常是"><meta name=keywords content="Shell"><meta itemprop=name content="rm&amp;cp&amp;mv原理"><meta itemprop=description content="在 linux 系统中，磁盘通常被格式化为 ext3 或 ext4 格式，这两种文件系统对文件的存储和访问是通过一种被称为 inode 即 i 节点的机制来实现的。 当我们读写文件时，通常是"><meta itemprop=dateModified content="2023-09-28T22:57:40+08:00"><meta itemprop=wordCount content="2455"><meta itemprop=image content="/logo.png"><meta itemprop=keywords content="Shell,"><meta property="og:title" content="rm&amp;cp&amp;mv原理"><meta property="og:description" content="在 linux 系统中，磁盘通常被格式化为 ext3 或 ext4 格式，这两种文件系统对文件的存储和访问是通过一种被称为 inode 即 i 节点的机制来实现的。 当我们读写文件时，通常是"><meta property="og:type" content="article"><meta property="og:url" content="liudongdong1.github.io/rmcpmv%E5%8E%9F%E7%90%86/"><meta property="og:image" content="/logo.png"><meta property="article:section" content="posts"><meta property="article:modified_time" content="2023-09-28T22:57:40+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/logo.png"><meta name=twitter:title content="rm&amp;cp&amp;mv原理"><meta name=twitter:description content="在 linux 系统中，磁盘通常被格式化为 ext3 或 ext4 格式，这两种文件系统对文件的存储和访问是通过一种被称为 inode 即 i 节点的机制来实现的。 当我们读写文件时，通常是"><meta name=application-name content="DAY By DAY"><meta name=apple-mobile-web-app-title content="DAY By DAY"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=liudongdong1.github.io/rmcpmv%E5%8E%9F%E7%90%86/><link rel=prev href=liudongdong1.github.io/robot_grasp/><link rel=next href=liudongdong1.github.io/rfidpaperloc/><link rel=stylesheet href=/liudongdong1.github.io/css/style.min.css><link rel=stylesheet href=/liudongdong1.github.io/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/liudongdong1.github.io/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"rm\u0026cp\u0026mv原理","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"liudongdong1.github.io\/rmcpmv%E5%8E%9F%E7%90%86\/"},"genre":"posts","keywords":"Shell","wordcount":2455,"url":"liudongdong1.github.io\/rmcpmv%E5%8E%9F%E7%90%86\/","dateModified":"2023-09-28T22:57:40+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"LiuDongdong","logo":"\/images\/person.png"},"author":{"@type":"Person","name":"liudongdong1"},"description":""}</script></head><body data-header-desktop=auto data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=liudongdong1.github.io/ title="DAY By DAY"><img class="lazyload logo" src=/liudongdong1.github.io/svg/loading.min.svg data-src=/fixit.min.svg data-srcset="/fixit.min.svg, /fixit.min.svg 1.5x, /fixit.min.svg 2x" data-sizes=auto alt="DAY By DAY" title="DAY By DAY"><span class=header-title-text></span></a><span id=typeit-header-subtitle-desktop class="typeit header-subtitle"></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 所有文章</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/friends/ title=友情链接><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> 友链</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item language"><span role=button aria-label=选择语言 title=选择语言>简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item>没有更多翻译</li></ul></li><li class="menu-item search" id=search-desktop><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=liudongdong1.github.io/ title="DAY By DAY"><img class="lazyload logo" src=/liudongdong1.github.io/svg/loading.min.svg data-src=/fixit.min.svg data-srcset="/fixit.min.svg, /fixit.min.svg 1.5x, /fixit.min.svg 2x" data-sizes=auto alt=/fixit.min.svg title=/fixit.min.svg><span class=header-title-text></span></a><span id=typeit-header-subtitle-mobile class="typeit header-subtitle"></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 所有文章</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/friends/ title=友情链接><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> 友链</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item text-center"><a class=menu-link href=https://liudongdong1.github.io/ title=GitHub rel="noopener noreferrer" target=_blank><i class='fa-brands fa-github fa-fw' aria-hidden=true></i></a></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language"><span role=button aria-label=选择语言 title=选择语言>简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option disabled>没有更多翻译</option></select></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container data-page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>目录 <i class="toc-icon fa-solid fa-angle-down fa-fw"></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom id=aside-sakana><div class=sakana-widget><div class=sakana-item id=takina-widget></div><div class=sakana-item id=chisato-widget></div></div><script>function initSakanaWidget(){const e=SakanaWidget.getCharacter("takina");SakanaWidget.registerCharacter("takina-slow",e),new SakanaWidget({character:"takina-slow",controls:!1,autoFit:!0,stroke:{color:"#b4b4b4",width:2}}).mount("#takina-widget");const t=SakanaWidget.getCharacter("chisato");SakanaWidget.registerCharacter("chisato-slow",t),new SakanaWidget({character:"chisato-slow",controls:!1,autoFit:!0,stroke:{color:"#b4b4b4",width:2}}).mount("#chisato-widget")}</script><script async onload=initSakanaWidget() src=https://cdn.jsdelivr.net/npm/sakana-widget@2.3.0/lib/sakana.min.js></script></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>rm&amp;cp&amp;mv原理</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
liudongdong1</span></span>
<span class=post-category>收录于 <a href=liudongdong1.github.io/categories/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;Categories</a>&ensp;<a href=liudongdong1.github.io/categories/linux/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;Linux</a></span></div><div class=post-meta-line><span title="0001-01-01 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=0001-01-01>0001-01-01</time>
</span>&nbsp;<i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;约 2455 字&nbsp;
<i class="fa-regular fa-clock fa-fw"></i>&nbsp;预计阅读 5 分钟&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title=rm&amp;cp&amp;mv原理>
<i class="fa-regular fa-eye fa-fw"></i>&nbsp;<span id=busuanzi_value_page_pv>-</span>&nbsp;次阅读
</span>&nbsp;</div></div><div class=featured-image><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://cdn.pixabay.com/photo/2021/11/26/20/45/lantern-6826698__340.jpg data-srcset="https://cdn.pixabay.com/photo/2021/11/26/20/45/lantern-6826698__340.jpg, https://cdn.pixabay.com/photo/2021/11/26/20/45/lantern-6826698__340.jpg 1.5x, https://cdn.pixabay.com/photo/2021/11/26/20/45/lantern-6826698__340.jpg 2x" data-sizes=auto alt=https://cdn.pixabay.com/photo/2021/11/26/20/45/lantern-6826698__340.jpg title=https://cdn.pixabay.com/photo/2021/11/26/20/45/lantern-6826698__340.jpg></div><div class="details toc" id=toc-static kept=true><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></div></div><div class=content id=content><blockquote><p>在 linux 系统中，磁盘通常被格式化为 ext3 或 ext4 格式，这两种文件系统对文件的存储和访问是通过一种被称为 inode 即 i 节点的机制来实现的。</p><p>当我们读写文件时，通常是以流的形式，即认为文件的内容是连续的。但是在磁盘上，一个文件的内容通常是由多个固定大小的数据块即 block 构成的，并且这些数据块通常是不连续的。这时就需要一个额外的数据结构来保存各数据块的位置、数据块之间的顺序关系、文件大小、文件访问权限、文件的拥有者及修改时间等信息，即文件的元信息，而维护这些元信息的数据结构就被称为 i 结点。可以说，一个 i 节点中包含了进程访问文件时所需要的所有信息。</p></blockquote><p><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403145939452.png data-srcset="https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403145939452.png, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403145939452.png 1.5x, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403145939452.png 2x" data-sizes=auto alt=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403145939452.png title=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403145939452.png></p><h4 id=1-硬链接>1. 硬链接</h4><blockquote><p>硬链接文件和原文件就是同一个文件，只不过有两个名字，类似于 C++ 中的引用。<code>当一个文件有多个链接时，删除其中一个文件名并不会删除文件本身，而只是减少文件的链接数</code>。当链接数为 0 时，文件内容才会真正被删除。</p></blockquote><h4 id=2-符号链接>2. 符号链接</h4><blockquote><p>符号链接并不增加目标文件 i 节点的链接数。符号链接本身也是一个文件，其中存储了目标文件的完整路径，类似于 windows 系统中的快捷方式。</p></blockquote><blockquote><p>如果文件链接数为 1，但是仍然有进程打开这一文件，那么 unlink 后，虽然在原目录中已经没有了被删除文件的名字，但是实际上系统还是保留了这一文件，直到打开这一文件的所有进程全部关闭此文件后，系统才会真正删除磁盘上的文件内容。由此可见，用 unlink 直接删除打开的文件是安全的。删除已经打开的文件，对使用此文件的进程，不会有任何影响，也不会导致进程崩溃（注意这里讨论的是删除已被打开的文件，通常是数据文件，并未讨论删除正在运行的可执行文件）。</p></blockquote><h4 id=3-unlink>3. unlink</h4><ul><li>对于符号链接，unlink 删除的是符号链接本身，而不是其指向的文件。</li><li>删除文件名，并不一定删除磁盘上文件的内容。只有在文件的链接数为 1，即当前文件名是文件的最后一个链接并且有没有进程打开此文件的时候，unlink () 才会真正删除文件内容。</li></ul><h4 id=4-rm-命令>4. rm 命令</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># strace rm data.txt 2&gt;&amp;1 | grep &#39;data.txt&#39; </span>
</span></span><span style=display:flex><span>execve<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/bin/rm&#34;</span>, <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;rm&#34;</span>, <span style=color:#e6db74>&#34;data.txt&#34;</span><span style=color:#f92672>]</span>, <span style=color:#f92672>[</span>/* <span style=color:#ae81ff>13</span> vars */<span style=color:#f92672>])</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>lstat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#f92672>{</span>st_mode<span style=color:#f92672>=</span>S_IFREG|0644, st_size<span style=color:#f92672>=</span>10, ...<span style=color:#f92672>})</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>stat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#f92672>{</span>st_mode<span style=color:#f92672>=</span>S_IFREG|0644, st_size<span style=color:#f92672>=</span>10, ...<span style=color:#f92672>})</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>access<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, W_OK<span style=color:#f92672>)</span>                <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>unlink<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span><span style=color:#f92672>)</span>                      <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># strace unlink data.txt 2&gt;&amp;1 | grep &#39;data.txt&#39;</span>
</span></span><span style=display:flex><span>execve<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/bin/unlink&#34;</span>, <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;unlink&#34;</span>, <span style=color:#e6db74>&#34;data.txt&#34;</span><span style=color:#f92672>]</span>, <span style=color:#f92672>[</span>/* <span style=color:#ae81ff>13</span> vars */<span style=color:#f92672>])</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>unlink<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><blockquote><p>在 linux 中，<code>rm 命令比 unlink 命令多了一些权限的检查</code>，之后也是调用了 unlink () 系统调用。在文件允许删除的情况下，rm 命令和 unlink 命令其实是没有区别的。</p></blockquote><h4 id=5-rename-命令>5. rename 命令</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># strace rename data.txt  dest_file data.txt 2&gt;&amp;1 | grep  &#39;data.txt|dest_file&#39;</span>
</span></span><span style=display:flex><span>execve<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/usr/bin/rename&#34;</span>, <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;rename&#34;</span>, <span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#e6db74>&#34;dest_file&#34;</span>, <span style=color:#e6db74>&#34;data.txt&#34;</span><span style=color:#f92672>]</span>, <span style=color:#f92672>[</span>/* <span style=color:#ae81ff>13</span> vars */<span style=color:#f92672>])</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>rename<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#e6db74>&#34;dest_file&#34;</span><span style=color:#f92672>)</span>         <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><blockquote><p>在<code>目标文件 dest_file 已经存在的情况下</code>，执行 rename 后，dest_file 的 i 节点号发生了变化，因而 rename () 系统调用的作用类似于上述第二种情形：<code>即删除文件后再新建一个同名文件</code>。</p></blockquote><h4 id=6-mv-命令>6. mv 命令</h4><ul><li>当目标文件不存在时</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># strace mv data.txt  dest_file 2&gt;&amp;1 | egrep  &#39;data.txt|dest_file&#39;</span>
</span></span><span style=display:flex><span>execve<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/bin/mv&#34;</span>, <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;mv&#34;</span>, <span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#e6db74>&#34;dest_file&#34;</span><span style=color:#f92672>]</span>, <span style=color:#f92672>[</span>/* <span style=color:#ae81ff>13</span> vars */<span style=color:#f92672>])</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>stat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;dest_file&#34;</span>, 0x7ffe1b4aab50<span style=color:#f92672>)</span>       <span style=color:#f92672>=</span> -1 ENOENT <span style=color:#f92672>(</span>No such file or directory<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lstat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#f92672>{</span>st_mode<span style=color:#f92672>=</span>S_IFREG|0644, st_size<span style=color:#f92672>=</span>726, ...<span style=color:#f92672>})</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>lstat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;dest_file&#34;</span>, 0x7ffe1b4aa900<span style=color:#f92672>)</span>      <span style=color:#f92672>=</span> -1 ENOENT <span style=color:#f92672>(</span>No such file or directory<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>rename<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#e6db74>&#34;dest_file&#34;</span><span style=color:#f92672>)</span>         <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><ul><li>当目标文件存在时</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># strace mv src_data data.txt 2&gt;&amp;1 | egrep &#39;src_data|data.txt&#39;</span>
</span></span><span style=display:flex><span>execve<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/bin/mv&#34;</span>, <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;mv&#34;</span>, <span style=color:#e6db74>&#34;src_data&#34;</span>, <span style=color:#e6db74>&#34;data.txt&#34;</span><span style=color:#f92672>]</span>, <span style=color:#f92672>[</span>/* <span style=color:#ae81ff>13</span> vars */<span style=color:#f92672>])</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>stat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#f92672>{</span>st_mode<span style=color:#f92672>=</span>S_IFREG|0644, st_size<span style=color:#f92672>=</span>726, ...<span style=color:#f92672>})</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>lstat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;src_data&#34;</span>, <span style=color:#f92672>{</span>st_mode<span style=color:#f92672>=</span>S_IFREG|0644, st_size<span style=color:#f92672>=</span>726, ...<span style=color:#f92672>})</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>lstat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#f92672>{</span>st_mode<span style=color:#f92672>=</span>S_IFREG|0644, st_size<span style=color:#f92672>=</span>726, ...<span style=color:#f92672>})</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>stat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#f92672>{</span>st_mode<span style=color:#f92672>=</span>S_IFREG|0644, st_size<span style=color:#f92672>=</span>726, ...<span style=color:#f92672>})</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>access<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, W_OK<span style=color:#f92672>)</span>                <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>rename<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;src_data&#34;</span>, <span style=color:#e6db74>&#34;data.txt&#34;</span><span style=color:#f92672>)</span>          <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><blockquote><p>mv 的主要功能就是<code>检查初始文件和目标文件是否存在及是否有访问权限</code>，之后执行 rename 系统调用，因而，当目标文件存在时，mv 的行为由 rename () 系统调用决定，即类似于删除文件后再重建一个同名文件。</p></blockquote><h4 id=7-cp-命令>7. <strong>cp 命令</strong></h4><ul><li>当文件不存在时</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># strace cp data.txt dest_data 2&gt;&amp;1 | egrep &#39;data.txt|dest_data&#39;</span>
</span></span><span style=display:flex><span>execve<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/bin/cp&#34;</span>, <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;cp&#34;</span>, <span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#e6db74>&#34;dest_data&#34;</span><span style=color:#f92672>]</span>, <span style=color:#f92672>[</span>/* <span style=color:#ae81ff>13</span> vars */<span style=color:#f92672>])</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>stat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;dest_data&#34;</span>, 0x7fff135827f0<span style=color:#f92672>)</span>       <span style=color:#f92672>=</span> -1 ENOENT <span style=color:#f92672>(</span>No such file or directory<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>stat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, <span style=color:#f92672>{</span>st_mode<span style=color:#f92672>=</span>S_IFREG|0644, st_size<span style=color:#f92672>=</span>726, ...<span style=color:#f92672>})</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>stat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;dest_data&#34;</span>, 0x7fff13582640<span style=color:#f92672>)</span>       <span style=color:#f92672>=</span> -1 ENOENT <span style=color:#f92672>(</span>No such file or directory<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>open<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;data.txt&#34;</span>, O_RDONLY<span style=color:#f92672>)</span>              <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>open<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;dest_data&#34;</span>, O_WRONLY|O_CREAT, 0100644<span style=color:#f92672>)</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>
</span></span></code></pre></div><ul><li>当目标文件存在</li></ul><p><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403151202436.png data-srcset="https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403151202436.png, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403151202436.png 1.5x, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403151202436.png 2x" data-sizes=auto alt=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403151202436.png title=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403151202436.png></p><blockquote><p>如果<code>目标文件存在</code>，在执行 cp 命令之后，文件的<code> inode 号并没有改变</code>，并且可以看出，<code>cp 使用了 open 及 O_TRUNC 参数打开了目标文件</code>。因而当目标文件已经存在时，<code>cp 命令实际是清空了目标文件内容，之后把新的内容写入目标文件。</code></p></blockquote><h4 id=8如果一个文件正在被使用这时对这个文件执行删除或更改其内容的操作会发生什么>8.如果一个文件正在被使用，这时对这个文件执行删除或更改其内容的操作，会发生什么？</h4><h5 id=1-文件正在被打开读写>.1. 文件正在被打开读写</h5><blockquote><p>当进程打开一个文件后，如果我们在磁盘上删除这个文件，虽然表面上看在目录中已经成功删除了这个文件名，但是<code>实际上系统依然保留了文件内容，直至所有进程都关闭了这一文件</code>。</p></blockquote><blockquote><p>进程打开一个文件后，如果我们删除被打开的文件，之后再重建这一文件，操作系统依然把之前打开的文件描述符 3 指向原有旧文件的 i 节点，即使<code>再次建立同名文件，系统也认为文件描述符 3 指向的文件被删除了</code>。</p><p>新建的同名文件与原文件及原进程无任何关系，新建的同名文件未被原进程使用，并且新建的文件使用了新的 i 节点，与原文件即使同名也没有产生任何联系。</p><p>删除原文件，再新建同名文件后，程序的输出依然是删除前 data.txt 文件的内容 “hello world”，与新建文件的内容无关。</p></blockquote><h5 id=2-可执行文件正在运行>.2. 可执行文件正在运行</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unistd.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>void</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;ix:%d, pid:%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, i, <span style=color:#a6e22e>getpid</span>());
</span></span><span style=display:flex><span>    <span style=color:#f92672>++</span>i;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sleep</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403152758774.png data-srcset="https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403152758774.png, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403152758774.png 1.5x, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403152758774.png 2x" data-sizes=auto alt=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403152758774.png title=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403152758774.png></p><blockquote><p><code>当一个进程开始运行时，操作系统会在 /proc/*pid* 目录下建立一个名为 exe 的符号链接</code>，<code>这一链接指向磁盘上的可执行文件</code>。通过这一符号链接我们就可以观察到当可执行文件被删除时，程序的表现。</p></blockquote><p><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153001119.png data-srcset="https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153001119.png, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153001119.png 1.5x, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153001119.png 2x" data-sizes=auto alt=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153001119.png title=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153001119.png></p><p><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153103281.png data-srcset="https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153103281.png, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153103281.png 1.5x, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153103281.png 2x" data-sizes=auto alt=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153103281.png title=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220403153103281.png></p><ul><li>如果一个可执行文件正在运行，当我们把它删除后，删除的也只是文件名，操作系统依然保留了可执行文件的内容，这一点从 ls -ilL /proc/20295/exe 的结果中可以看出，其 i 节点号与删除前 pr_pid 文件的 i 节点号完全相同，执行 md5sum /proc/20295/exe 的结果与之前 pr_pid 的 md5 值也完全相同。</li><li><code>删除原可执行文件后，如果我们重建一个同名文件，会发现新文件与被删除的 pr_pid 文件的 i 节点号不一样</code>。重建文件后，原程序的输出也没有变化，说明重建的文件与原 pr_pid 无关。这种机制与删除被打开文件的机制类似。</li><li>当我们<code>试图向正在运行的可执行文件中写入内容时</code>，会写入失败，系统提示 “Text file busy” 表示有进程正在执行这一文件。</li></ul><blockquote><ul><li>用 rm 删除时，只是删除了文件名，系统为运行的进程自动保留了可执行文件的内容。</li><li>用 cp 命令覆盖时，会尝试向当前可执行文件中写入新内容，如果成功写入，必然会影响当前正在运行的进程，因而操作系统禁止了对可执行文件的写入操作。</li></ul></blockquote><h5 id=3-动态链接库正在被使用>.3. 动态链接库正在被使用</h5><ul><li>当动态链接库正在被使用时，rm 命令删除的也只是文件名，虽然在原目录下已经没有了对应的库文件，但是操作系统会为使用库的进程保留库文件内容，因而 rm 并未真正删除磁盘上的库文件。从这点上来看，当删除使用中的动态链接库时，操作系统的机制和删除可执行文件及删除被打开的文件是一样的。</li><li><code>操作系统是允许我们向使用中的动态库中写入内容的，并不会像写入可执行文件一样报告 “Text file busy”，因而在写入方面，操作系统只对可执行文件进行了保护。程序崩溃了，这是由于内存映射区与磁盘文件的自动同步造成的。</code></li></ul><h4 id=resource>Resource</h4><ul><li><a href=https://zhuanlan.zhihu.com/p/25650525 target=_blank rel="external nofollow noopener noreferrer">https://zhuanlan.zhihu.com/p/25650525<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2023-09-28 22:57:40">更新于 2023-09-28&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=liudongdong1.github.io/rmcpmv%E5%8E%9F%E7%90%86/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span><span><a href=https://liudongdong1.github.io/edit/master/content/posts%5cLinux%5cshell%5crm&amp;cp&amp;mv%e5%8e%9f%e7%90%86.md title=编辑此页 target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>编辑此页</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=liudongdong1.github.io/rmcpmv%E5%8E%9F%E7%90%86/ data-title=rm&amp;cp&amp;mv原理 data-hashtags=Shell><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=liudongdong1.github.io/rmcpmv%E5%8E%9F%E7%90%86/ data-hashtag=Shell><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=liudongdong1.github.io/rmcpmv%E5%8E%9F%E7%90%86/ data-title=rm&amp;cp&amp;mv原理 data-image=https://cdn.pixabay.com/photo/2021/11/26/20/45/lantern-6826698__340.jpg><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=liudongdong1.github.io/tags/shell/>Shell</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=liudongdong1.github.io/>主页</a></span></section></div><div class=post-nav><a href=liudongdong1.github.io/robot_grasp/ class=prev rel=prev title=robot_grasp><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>robot_grasp</a>
<a href=liudongdong1.github.io/rfidpaperloc/ class=next rel=next title=RFIDPaperLoc>RFIDPaperLoc<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line powered">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.118.2">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.17-RC"><img class=fixit-icon src=/liudongdong1.github.io/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2020 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=https://liudongdong1.github.io/ target=_blank rel="external nofollow noopener noreferrer">LiuDongdong</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"><span class=site-time title='网站运行中 ...'><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden=true></i>&nbsp;<span class=run-times>网站运行中 ...</span></span></div><div class="footer-line ibruce"><span id=busuanzi_container_site_uv title=总访客数><i class="fa-regular fa-user fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=总访问量><i class="fa-regular fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div></div><a href=https://liudongdong1.github.io/ title="在 GitHub 上查看源代码" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0;--bg-progress:#0076ff;--bg-progress-dark:#fff></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/liudongdong1.github.io/lib/katex/katex.min.css><link rel=stylesheet href=/liudongdong1.github.io/lib/cookieconsent/cookieconsent.min.css><script src=/liudongdong1.github.io/lib/autocomplete/autocomplete.min.js defer></script><script src=/liudongdong1.github.io/lib/algoliasearch/algoliasearch-lite.umd.min.js defer></script><script src=/liudongdong1.github.io/lib/lazysizes/lazysizes.min.js async defer></script><script src=/liudongdong1.github.io/lib/sharer/sharer.min.js async defer></script><script src=/liudongdong1.github.io/lib/typeit/index.umd.js defer></script><script src=/liudongdong1.github.io/lib/katex/katex.min.js defer></script><script src=/liudongdong1.github.io/lib/katex/auto-render.min.js defer></script><script src=/liudongdong1.github.io/lib/katex/copy-tex.min.js defer></script><script src=/liudongdong1.github.io/lib/katex/mhchem.min.js defer></script><script src=/liudongdong1.github.io/lib/cookieconsent/cookieconsent.min.js defer></script><script src=/liudongdong1.github.io/lib/pangu/pangu.min.js defer></script><script src=/liudongdong1.github.io/lib/cell-watermark/watermark.min.js defer></script><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:10},comment:{enable:!1},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},data:{"typeit-header-subtitle-desktop":`<span style='font-family: MMT,"沐目体";'>吾日三省吾身</span>`,"typeit-header-subtitle-mobile":`<span style='font-family: MMT,"沐目体";'>吾日三省吾身</span>`},enablePWA:!0,enablePangu:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"2R1K9SKLQZ",algoliaIndex:"index.zh-cn",algoliaSearchKey:"4a226aa1c5c98d6859e4d1386adb2bc7",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"},siteTime:"2020-12-18T16:15:22+08:00",typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"typeit-header-subtitle-desktop":["typeit-header-subtitle-desktop"],"typeit-header-subtitle-mobile":["typeit-header-subtitle-mobile"]},duration:-1,speed:100},watermark:{appendto:".wrapper>main",colspacing:30,content:'<img class="fixit-icon" src="/fixit.min.svg" alt="FixIt logo" /> FixIt 主题',enable:!0,fontfamily:"inherit",fontsize:.85,height:21,opacity:.0125,rotate:15,rowspacing:60,width:150}}</script><script src=/liudongdong1.github.io/js/theme.min.js defer></script><script src=/liudongdong1.github.io/js/custom.min.js defer></script></body></html>