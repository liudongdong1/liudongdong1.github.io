# 备份技术


> 为应付文件、数据丢失或损坏等可能出现的意外情况，将电子计算机存储设备中的数据复制到磁带等大容量存储设备中。备份实际就是一种 “复制” 操作，备份数据通常以另外一种格式保存
>

> - 备份服务器：备份服务器是运行备份软件的载体，一般是 PC 服务器和小型机。
> - 备份软件：备份系统的核心，备份软件控制生产数据拷贝到存储介质上，并对备份数据进行管理，如 Symantec 的 Backup Exec 和 NetBackup 等。
> - 存储设备：备份数据存储的设备，一般为磁盘阵列、物理磁带库或者虚拟带库。

### 1.备份系统组成

![](https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220409205828071.png)

- 备份服务器：维护所有的配置信息（客户端，介质代理，备份设备等），管理所有的作业和历史任务记录，提供 GUI/WEB 等管理界面

- 介质服务器：负责管理数据在物理存储设备和它对应的客户端代理之间传输数据。

- 备份介质：

  - 磁盘阵列：适用于数据量大，备份窗口相对较小，对备份设备的性能和可靠性要求很高的场合，如数据中心。产品如华为 OceanStor V3 系列、18000 系列等。
  - 磁带库：适用于备份数据量不大，时间窗口宽裕，或希望将数据异地离线长期保存的场景。如 HPMSL6060、IBM TS3310 等。
  - 虚拟带库：需继承企业原有磁带备份架构和策略，又需提高备份速度的场景，如华为 VTL6900。（VTL：Virtual Tape library 虚拟磁带库。可以融入到现有磁带备份环境中，和磁带产品配合使用，构成一个集磁带和磁盘两种技术优势的解决方案。）
  - 光盘塔、光盘库：适用于对速度要求不高，容量不大，不用经常擦写的场景，如教育、档案、图书馆、广电等行业，如 SONYPDJ-1080。
  - 云存储：适合备份数据量不是很大的业务，如 OceanStor 9000 、 FusionStorage 。
  - 一体机：就是将主服务器，介质服务器，备份介质集成到一个物理设备上。如：HDP3500E。

  > - BW (Backup Window)：`一个工作周期内留给备份系统进行备份的时间长度`。
  > - RPO (Recovery Point Objective)：可以承受的`最大数据丢失量`。
  > - RTO (Recovery Time Objective)：可以`承受的最长停机时间`。

![](https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20220409205930863.png)

### 2. 备份类型

- **完全备份**：每天全备份。
  - 优点：能够基于上一次的完全备份快速恢复数据，恢复窗口小。
  - 缺点：所占用的存储空间大，每次备份耗时长，备份窗口大。
- **累积增量式备份**：每周一次全备份，本周其余`每天备份与上次备份的差异部分`。
  - 优点：相对完全备份来说每次备份可以节约一个完全备份的存储空间，备份窗口较小，恢复窗口较小。
  - 缺点：恢复时必须依赖上一次完全备份和本次的累积增量式备份才能完整恢复数据，恢复时间较差异增量式备份较短。
- **差异增量式备份**：每周一次全备份，本周`其余每天备份与全备份的差异部分`。
  - 优点：能够最大限度地节省存储空间，备份窗口小。
  - 缺点：数据恢复时必须依赖上一次完全备份和每一次的差异增量式备份才能对数据进行完整恢复，恢复时数据重构较慢，恢复时间较长。

### Resource

- 备份方案：https://cuichongxin.blog.csdn.net/article/details/113998612
- 容灾方案：https://cuichongxin.blog.csdn.net/article/details/114032212



---

> 作者: liudongdong1  
> URL: https://liudongdong1.github.io/%E5%A4%87%E4%BB%BD%E6%8A%80%E6%9C%AF/  

