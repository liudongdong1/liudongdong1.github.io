<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Android_Event - DAY By DAY</title><meta name=author content="LiuDongdong"><meta name=author-link content="https://liudongdong1.github.io/"><meta name=description content="基于监听的事件处理就是在android的组件上绑定特定的监听器，而基于回调的事件处理就是重写UI组件或者Activity的回调方法。 基于回调"><meta name=keywords content="Android"><meta itemprop=name content="Android_Event"><meta itemprop=description content="基于监听的事件处理就是在android的组件上绑定特定的监听器，而基于回调的事件处理就是重写UI组件或者Activity的回调方法。 基于回调"><meta itemprop=dateModified content="2023-09-24T17:00:03+08:00"><meta itemprop=wordCount content="3660"><meta itemprop=image content="/logo.png"><meta itemprop=keywords content="Android,"><meta property="og:title" content="Android_Event"><meta property="og:description" content="基于监听的事件处理就是在android的组件上绑定特定的监听器，而基于回调的事件处理就是重写UI组件或者Activity的回调方法。 基于回调"><meta property="og:type" content="article"><meta property="og:url" content="liudongdong1.github.io/android_event/"><meta property="og:image" content="/logo.png"><meta property="article:section" content="posts"><meta property="article:modified_time" content="2023-09-24T17:00:03+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/logo.png"><meta name=twitter:title content="Android_Event"><meta name=twitter:description content="基于监听的事件处理就是在android的组件上绑定特定的监听器，而基于回调的事件处理就是重写UI组件或者Activity的回调方法。 基于回调"><meta name=application-name content="DAY By DAY"><meta name=apple-mobile-web-app-title content="DAY By DAY"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=liudongdong1.github.io/android_event/><link rel=prev href=liudongdong1.github.io/android_fragment/><link rel=next href=liudongdong1.github.io/android_async/><link rel=stylesheet href=/liudongdong1.github.io/css/style.min.css><link rel=stylesheet href=/liudongdong1.github.io/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/liudongdong1.github.io/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Android_Event","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"liudongdong1.github.io\/android_event\/"},"genre":"posts","keywords":"Android","wordcount":3660,"url":"liudongdong1.github.io\/android_event\/","dateModified":"2023-09-24T17:00:03+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"LiuDongdong","logo":"\/images\/person.png"},"author":{"@type":"Person","name":"liudongdong1"},"description":""}</script></head><body data-header-desktop=auto data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=liudongdong1.github.io/ title="DAY By DAY"><img class="lazyload logo" src=/liudongdong1.github.io/svg/loading.min.svg data-src=/fixit.min.svg data-srcset="/fixit.min.svg, /fixit.min.svg 1.5x, /fixit.min.svg 2x" data-sizes=auto alt="DAY By DAY" title="DAY By DAY"><span class=header-title-text></span></a><span id=typeit-header-subtitle-desktop class="typeit header-subtitle"></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 所有文章</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/friends/ title=友情链接><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> 友链</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item language"><span role=button aria-label=选择语言 title=选择语言>简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item>没有更多翻译</li></ul></li><li class="menu-item search" id=search-desktop><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=liudongdong1.github.io/ title="DAY By DAY"><img class="lazyload logo" src=/liudongdong1.github.io/svg/loading.min.svg data-src=/fixit.min.svg data-srcset="/fixit.min.svg, /fixit.min.svg 1.5x, /fixit.min.svg 2x" data-sizes=auto alt=/fixit.min.svg title=/fixit.min.svg><span class=header-title-text></span></a><span id=typeit-header-subtitle-mobile class="typeit header-subtitle"></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 所有文章</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/friends/ title=友情链接><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> 友链</a></li><li class=menu-item><a class=menu-link href=/liudongdong1.github.io/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item text-center"><a class=menu-link href=https://liudongdong1.github.io/ title=GitHub rel="noopener noreferrer" target=_blank><i class='fa-brands fa-github fa-fw' aria-hidden=true></i></a></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language"><span role=button aria-label=选择语言 title=选择语言>简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option disabled>没有更多翻译</option></select></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container data-page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>目录 <i class="toc-icon fa-solid fa-angle-down fa-fw"></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom id=aside-sakana><div class=sakana-widget><div class=sakana-item id=takina-widget></div><div class=sakana-item id=chisato-widget></div></div><script>function initSakanaWidget(){const e=SakanaWidget.getCharacter("takina");SakanaWidget.registerCharacter("takina-slow",e),new SakanaWidget({character:"takina-slow",controls:!1,autoFit:!0,stroke:{color:"#b4b4b4",width:2}}).mount("#takina-widget");const t=SakanaWidget.getCharacter("chisato");SakanaWidget.registerCharacter("chisato-slow",t),new SakanaWidget({character:"chisato-slow",controls:!1,autoFit:!0,stroke:{color:"#b4b4b4",width:2}}).mount("#chisato-widget")}</script><script async onload=initSakanaWidget() src=https://cdn.jsdelivr.net/npm/sakana-widget@2.3.0/lib/sakana.min.js></script></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Android_Event</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
liudongdong1</span></span>
<span class=post-category>收录于 <a href=liudongdong1.github.io/categories/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;Categories</a>&ensp;<a href=liudongdong1.github.io/categories/aiot/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;AIOT</a></span></div><div class=post-meta-line><span title="0001-01-01 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=0001-01-01>0001-01-01</time>
</span>&nbsp;<i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;约 3660 字&nbsp;
<i class="fa-regular fa-clock fa-fw"></i>&nbsp;预计阅读 8 分钟&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title=Android_Event>
<i class="fa-regular fa-eye fa-fw"></i>&nbsp;<span id=busuanzi_value_page_pv>-</span>&nbsp;次阅读
</span>&nbsp;</div></div><div class=featured-image><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://cdn.stocksnap.io/img-thumbs/280h/CPZJJ7K3YJ.jpg data-srcset="https://cdn.stocksnap.io/img-thumbs/280h/CPZJJ7K3YJ.jpg, https://cdn.stocksnap.io/img-thumbs/280h/CPZJJ7K3YJ.jpg 1.5x, https://cdn.stocksnap.io/img-thumbs/280h/CPZJJ7K3YJ.jpg 2x" data-sizes=auto alt=https://cdn.stocksnap.io/img-thumbs/280h/CPZJJ7K3YJ.jpg title=https://cdn.stocksnap.io/img-thumbs/280h/CPZJJ7K3YJ.jpg></div><div class="details toc" id=toc-static kept=true><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#1-基于监听的时间处理机制模型>1. 基于监听的时间处理机制模型</a></li><li><a href=#2-基于回调的事件处理机制>2. 基于回调的事件处理机制</a></li><li><a href=#3-相应系统设置的事件>3. 相应系统设置的事件</a></li><li><a href=#4-asynctask>4. AsyncTask</a></li><li><a href=#5-resource>5. Resource</a></li></ul></li></ul></nav></div></div><div class=content id=content><blockquote><p>基于监听的事件处理就是在android的组件上绑定特定的监听器，而基于回调的事件处理就是重写UI组件或者Activity的回调方法。</p><p>基于回调的事件处理模型就是将EventSource和EventListener合二为一了，即事件源也是事件监听器（处理器）</p></blockquote><h3 id=1-基于监听的时间处理机制模型>1. 基于监听的时间处理机制模型</h3><blockquote><p>事件监听机制是一种<code>委派式的事件处理机制</code>,事件源(组件)事件处理委托给事件监听器,当事件源发生指定事件时,就通知指定事件监听器,执行相应的操作</p></blockquote><p><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108131626359.png data-srcset="https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108131626359.png, https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108131626359.png 1.5x, https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108131626359.png 2x" data-sizes=auto alt=https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108131626359.png title=https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108131626359.png></p><h4 id=1-直接匿名内部类>.1. 直接匿名内部类</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.jay.example.innerlisten<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.os.Bundle<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.view.View<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.view.View.OnClickListener<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.widget.Button<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.widget.Toast<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.app.Activity<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> Activity <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Button btnshow<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>activity_main</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        btnshow <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Button<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>btnshow</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        btnshow<span style=color:#f92672>.</span><span style=color:#a6e22e>setOnClickListener</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> OnClickListener<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>            <span style=color:#75715e>//重写点击事件的处理方法onClick()    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>@Override</span>    
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>(</span>View v<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>                <span style=color:#75715e>//显示Toast信息    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>makeText</span><span style=color:#f92672>(</span>getApplicationContext<span style=color:#f92672>(),</span> <span style=color:#e6db74>&#34;你点击了按钮&#34;</span><span style=color:#f92672>,</span> Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>LENGTH_SHORT</span><span style=color:#f92672>).</span><span style=color:#a6e22e>show</span><span style=color:#f92672>();</span>    
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>    
</span></span><span style=display:flex><span>        <span style=color:#f92672>});</span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>        
</span></span><span style=display:flex><span><span style=color:#f92672>}</span> 
</span></span></code></pre></div><h4 id=2-使用内部类>.2. 使用内部类</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> android.os.Bundle<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.view.View<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.view.View.OnClickListener<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.widget.Button<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.widget.Toast<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.app.Activity<span style=color:#f92672>;</span>     
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> Activity <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Button btnshow<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>activity_main</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        btnshow <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Button<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>btnshow</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        <span style=color:#75715e>//直接new一个内部类对象作为参数    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        btnshow<span style=color:#f92672>.</span><span style=color:#a6e22e>setOnClickListener</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> BtnClickListener<span style=color:#f92672>());</span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>     
</span></span><span style=display:flex><span>    <span style=color:#75715e>//定义一个内部类,实现View.OnClickListener接口,并重写onClick()方法    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BtnClickListener</span> <span style=color:#66d9ef>implements</span> View<span style=color:#f92672>.</span><span style=color:#a6e22e>OnClickListener</span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>@Override</span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>(</span>View v<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>            Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>makeText</span><span style=color:#f92672>(</span>getApplicationContext<span style=color:#f92672>(),</span> <span style=color:#e6db74>&#34;按钮被点击了&#34;</span><span style=color:#f92672>,</span> Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>LENGTH_SHORT</span><span style=color:#f92672>).</span><span style=color:#a6e22e>show</span><span style=color:#f92672>();</span>   
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>}</span> 
</span></span></code></pre></div><h4 id=3-使用外部类>.3. 使用外部类</h4><ul><li>实现OnClicklistener的自定义监听类，可以将多个空间的监听出发函数放在一个类里面，通过View.type 进行分别处理。</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @function click控件相关监听函数
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyClickListener</span> <span style=color:#66d9ef>implements</span> View<span style=color:#f92672>.</span><span style=color:#a6e22e>OnClickListener</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>(</span>View v<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// TODO Auto-generated method stub
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>switch</span> <span style=color:#f92672>(</span>v<span style=color:#f92672>.</span><span style=color:#a6e22e>getId</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>search</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>                    Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span>TAG<span style=color:#f92672>,</span><span style=color:#e6db74>&#34;you click the search bluetooth button&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>                    search<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>//Toast.makeText(MainActivity.this, &#34;This is Button 111&#34;, Toast.LENGTH_SHORT).show();
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>discoverable1</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>                    Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span>TAG<span style=color:#f92672>,</span><span style=color:#e6db74>&#34;you click the search discoverable button to make your phone to be discovered&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>                    Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>makeText</span><span style=color:#f92672>(</span>sqlitetest<span style=color:#f92672>.</span><span style=color:#a6e22e>this</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;该设备已设置为可在300秒内发现，且可连接&#34;</span><span style=color:#f92672>,</span> Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>LENGTH_SHORT</span><span style=color:#f92672>).</span><span style=color:#a6e22e>show</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>                    ensureDiscoverable<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>button3</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>                    Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span>TAG<span style=color:#f92672>,</span><span style=color:#e6db74>&#34;you click the button3 to clear data&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>                    clearButtonHandler<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>//Toast.makeText(MainActivity.this, &#34;This is Button 111&#34;, Toast.LENGTH_SHORT).show();
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>button4</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>                    Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span>TAG<span style=color:#f92672>,</span><span style=color:#e6db74>&#34;you click the button4 to recognize the gesture&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>                    performRecognize<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>button5</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>                    Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span>TAG<span style=color:#f92672>,</span><span style=color:#e6db74>&#34;you click the button5 to save data&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>                    performSave<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>//Toast.makeText(MainActivity.this, &#34;This is Button 111&#34;, Toast.LENGTH_SHORT).show();
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> android.os.Bundle<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.widget.Button<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.widget.TextView<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.app.Activity<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> Activity <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Button btnshow<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> TextView txtshow<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>activity_main</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        btnshow <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Button<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>btnshow</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        txtshow <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>TextView<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>textshow</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        <span style=color:#75715e>//直接new一个外部类，并把TextView作为参数传入    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        btnshow<span style=color:#f92672>.</span><span style=color:#a6e22e>setOnClickListener</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> MyClick<span style=color:#f92672>(</span>txtshow<span style=color:#f92672>));</span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>         
</span></span><span style=display:flex><span><span style=color:#f92672>}</span> 
</span></span></code></pre></div><h4 id=4-直接使用activity作为事件监听器>.4. 直接使用Activity作为事件监听器</h4><blockquote><p>只需要<code>让Activity类实现XxxListener事件监听接口</code>,在Activity中定义重写对应的事件处理器方法 eg:Actitity实现了OnClickListener接口,<code>重写了onClick(view)方法</code>在为某些组建添加该事件监听对象时,直接<code>setXxx.Listener(this) </code>即可</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> android.os.Bundle<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.view.View<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.view.View.OnClickListener<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.widget.Button<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.widget.Toast<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.app.Activity<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#75715e>//让Activity方法实现OnClickListener接口    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> Activity <span style=color:#66d9ef>implements</span> OnClickListener<span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Button btnshow<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>activity_main</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>        btnshow <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Button<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>btnshow</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        <span style=color:#75715e>//直接写个this    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        btnshow<span style=color:#f92672>.</span><span style=color:#a6e22e>setOnClickListener</span><span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//重写接口中的抽象方法    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>@Override</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>(</span>View v<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>        Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>makeText</span><span style=color:#f92672>(</span>getApplicationContext<span style=color:#f92672>(),</span> <span style=color:#e6db74>&#34;点击了按钮&#34;</span><span style=color:#f92672>,</span> Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>LENGTH_SHORT</span><span style=color:#f92672>).</span><span style=color:#a6e22e>show</span><span style=color:#f92672>();</span>         
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>         
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>   
</span></span></code></pre></div><h4 id=5-直接绑定到标签>.5. 直接绑定到标签</h4><blockquote><p>直接在<code>xml布局文件中对应得Activity中定义一个事件处理方法</code> eg:public void myClick(View source) source对应事件源(组件) 接着布局文件中对应要触发事件的组建,设置一个属性:<code>onclick = "myclick"即可</code></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> android.app.Activity<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.os.Bundle<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.view.View<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> android.widget.Toast<span style=color:#f92672>;</span>    
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> Activity <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>    
</span></span><span style=display:flex><span>        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>activity_main</span><span style=color:#f92672>);</span>     
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//自定义一个方法,传入一个view组件作为参数    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>myclick</span><span style=color:#f92672>(</span>View source<span style=color:#f92672>)</span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>        Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>makeText</span><span style=color:#f92672>(</span>getApplicationContext<span style=color:#f92672>(),</span> <span style=color:#e6db74>&#34;按钮被点击了&#34;</span><span style=color:#f92672>,</span> Toast<span style=color:#f92672>.</span><span style=color:#a6e22e>LENGTH_SHORT</span><span style=color:#f92672>).</span><span style=color:#a6e22e>show</span><span style=color:#f92672>();</span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>}</span> 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;LinearLayout</span> <span style=color:#a6e22e>xmlns:android=</span><span style=color:#e6db74>&#34;http://schemas.android.com/apk/res/android&#34;</span>    
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>xmlns:tools=</span><span style=color:#e6db74>&#34;http://schemas.android.com/tools&#34;</span>    
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>android:id=</span><span style=color:#e6db74>&#34;@+id/LinearLayout1&#34;</span>    
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>    
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>    
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>android:orientation=</span><span style=color:#e6db74>&#34;vertical&#34;</span> <span style=color:#f92672>&gt;</span>    
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Button</span>     
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>    
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>    
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;按钮&#34;</span>    
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>android:onClick=</span><span style=color:#e6db74>&#34;myclick&#34;</span><span style=color:#f92672>/&gt;</span>    
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/LinearLayout&gt;</span>  
</span></span></code></pre></div><h4 id=6-成员变量>.6. 成员变量</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>private</span> OnClickListener listener <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> OnClickListener<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>(</span>View v<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//点击事件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>activity_main</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    Button back <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Button<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>back</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    back<span style=color:#f92672>.</span><span style=color:#a6e22e>setOnClickListener</span><span style=color:#f92672>(</span>listener<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h3 id=2-基于回调的事件处理机制>2. 基于回调的事件处理机制</h3><h4 id=1-自定义view>.1. 自定义view</h4><blockquote><ul><li>如果处理事件的回调方法返回true，表明<code>该处理方法已完全处理该事件</code>，<code>该事件不会传播出去</code>。</li><li>如果处理事件的回调方法返回false，表明该处理方法并未完全处理该事件，该事件会传播出去。</li></ul></blockquote><blockquote><p>当用户在GUI组件上激发某个事件时,<code>组件有自己特定的方法会负责处理该事件</code>。通常用法:<code>继承基本的GUI组件</code>,<code>重写该组件的事件处理方法</code>,即自定义view 注意:在xml布局中使用自定义的view时,需要使用"<code>全限定类名</code>"</p><p>对于基于回调的事件传播而言，某组件上所发生的事情<code>不仅激发该组件上的回调方法</code>,<code>也会触发该组件所在Activity的回调用法</code>——只要事件能传播到该Activity。</p></blockquote><blockquote><p><em>①在该组件上触发屏幕事件: boolean</em> <strong>onTouchEvent</strong>*(MotionEvent event);
<em>②在该组件上按下某个按钮时: boolean</em> <strong>onKeyDown</strong>*(int keyCode,KeyEvent event);
<em>③松开组件上的某个按钮时: boolean</em> <strong>onKeyUp</strong>*(int keyCode,KeyEvent event);
<em>④长按组件某个按钮时: boolean</em> <strong>onKeyLongPress</strong>*(int keyCode,KeyEvent event);
<em>⑤键盘快捷键事件发生: boolean</em> <strong>onKeyShortcut</strong>*(int keyCode,KeyEvent event);
<em>⑥在组件上触发轨迹球屏事件: boolean</em> <strong>onTrackballEvent</strong>*(MotionEvent event);
**⑦当组件的焦点发生改变,和前面的6个不同,这个<code>方法只能够在View中重写</code>哦！ protected void onFocusChanged (boolean gainFocus, int direction, Rect previously FocusedRect)</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyButton</span> <span style=color:#66d9ef>extends</span> Button<span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String TAG <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;呵呵&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>MyButton</span><span style=color:#f92672>(</span>Context context<span style=color:#f92672>,</span> AttributeSet attrs<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>(</span>context<span style=color:#f92672>,</span> attrs<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>//重写键盘按下触发的事件  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>onKeyDown</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> keyCode<span style=color:#f92672>,</span> KeyEvent event<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onKeyDown</span><span style=color:#f92672>(</span>keyCode<span style=color:#f92672>,</span>event<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span>TAG<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;onKeyDown方法被调用&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>//重写弹起键盘触发的事件  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>onKeyUp</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> keyCode<span style=color:#f92672>,</span> KeyEvent event<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onKeyUp</span><span style=color:#f92672>(</span>keyCode<span style=color:#f92672>,</span>event<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span>TAG<span style=color:#f92672>,</span><span style=color:#e6db74>&#34;onKeyUp方法被调用&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>//组件被触摸了  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>onTouchEvent</span><span style=color:#f92672>(</span>MotionEvent event<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onTouchEvent</span><span style=color:#f92672>(</span>event<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span>TAG<span style=color:#f92672>,</span><span style=color:#e6db74>&#34;onTouchEvent方法被调用&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span> 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;RelativeLayout</span> <span style=color:#a6e22e>xmlns:android=</span><span style=color:#e6db74>&#34;http://schemas.android.com/apk/res/android&#34;</span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>xmlns:tools=</span><span style=color:#e6db74>&#34;http://schemas.android.com/tools&#34;</span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;match_parent&#34;</span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tools:context=</span><span style=color:#e6db74>&#34;.MyActivity&#34;</span><span style=color:#f92672>&gt;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;example.jay.com.mybutton.MyButton</span>  
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>android:layout_width=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>  
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>android:layout_height=</span><span style=color:#e6db74>&#34;wrap_content&#34;</span>  
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>android:text=</span><span style=color:#e6db74>&#34;按钮&#34;</span><span style=color:#f92672>/&gt;</span> 
</span></span></code></pre></div><p><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108162001757.png data-srcset="https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108162001757.png, https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108162001757.png 1.5x, https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108162001757.png 2x" data-sizes=auto alt=https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108162001757.png title=https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108162001757.png></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyActivity</span> <span style=color:#66d9ef>extends</span> ActionBarActivity <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>activity_my</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>        Button btn <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Button<span style=color:#f92672>)</span>findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>btn_my</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        btn<span style=color:#f92672>.</span><span style=color:#a6e22e>setOnKeyListener</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> View<span style=color:#f92672>.</span><span style=color:#a6e22e>OnKeyListener</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>onKey</span><span style=color:#f92672>(</span>View v<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> keyCode<span style=color:#f92672>,</span> KeyEvent event<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>event<span style=color:#f92672>.</span><span style=color:#a6e22e>getAction</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> KeyEvent<span style=color:#f92672>.</span><span style=color:#a6e22e>ACTION_DOWN</span><span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>                <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                    Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;呵呵&#34;</span><span style=color:#f92672>,</span><span style=color:#e6db74>&#34;监听器的onKeyDown方法被调用&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>});</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>onKeyDown</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> keyCode<span style=color:#f92672>,</span> KeyEvent event<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onKeyDown</span><span style=color:#f92672>(</span>keyCode<span style=color:#f92672>,</span> event<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        Log<span style=color:#f92672>.</span><span style=color:#a6e22e>i</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;呵呵&#34;</span><span style=color:#f92672>,</span><span style=color:#e6db74>&#34;Activity的onKeyDown方法被调用&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span> 
</span></span></code></pre></div><blockquote><p>传播的顺序是: <strong>监听器</strong>&mdash;><strong>view组件的回调方法</strong>&mdash;><strong>Activity的回调方法</strong></p></blockquote><h3 id=3-相应系统设置的事件>3. 相应系统设置的事件</h3><ul><li><strong>densityDpi</strong>：屏幕密度</li><li><strong>fontScale</strong>：当前用户设置的字体的缩放因子</li><li><strong>hardKeyboardHidden</strong>：判断硬键盘是否可见，有两个可选值：HARDKEYBOARDHIDDEN_NO,HARDKEYBOARDHIDDEN_YES，分别是十六进制的0和1</li><li><strong>keyboard</strong>：获取当前关联额键盘类型：该属性的返回值：KEYBOARD_12KEY（只有12个键的小键盘）、KEYBOARD_NOKEYS、KEYBOARD_QWERTY（普通键盘）</li><li><strong>keyboardHidden</strong>：该属性返回一个boolean值用于标识当前键盘是否可用。该属性不仅会判断系统的硬件键盘，也会判断系统的软键盘（位于屏幕）。</li><li><strong>locale</strong>：获取用户当前的语言环境</li><li><strong>mcc</strong>：获取移动信号的国家码</li><li><strong>mnc</strong>：获取移动信号的网络码
ps:国家代码和网络代码共同确定当前手机网络运营商</li><li><strong>navigation</strong>：判断系统上方向导航设备的类型。该属性的返回值：NAVIGATION_NONAV（无导航）、 NAVIGATION_DPAD(DPAD导航）NAVIGATION_TRACKBALL（轨迹球导航）、NAVIGATION_WHEEL（滚轮导航）</li><li><strong>orientation</strong>：获取系统屏幕的方向。该属性的返回值：ORIENTATION_LANDSCAPE（横向屏幕）、ORIENTATION_PORTRAIT（竖向屏幕）</li><li><strong>screenHeightDp</strong>，<strong>screenWidthDp</strong>：屏幕可用高和宽，用dp表示</li><li><strong>touchscreen</strong>：获取系统触摸屏的触摸方式。该属性的返回值：TOUCHSCREEN_NOTOUCH（无触摸屏）、TOUCHSCREEN_STYLUS（触摸笔式触摸屏）、TOUCHSCREEN_FINGER（接收手指的触摸屏）</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> <span style=color:#66d9ef>extends</span> AppCompatActivity <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>activity_main</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        TextView txtResult <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>TextView<span style=color:#f92672>)</span> findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>txtResult</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        StringBuffer status <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuffer<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//①获取系统的Configuration对象
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        Configuration cfg <span style=color:#f92672>=</span> getResources<span style=color:#f92672>().</span><span style=color:#a6e22e>getConfiguration</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//②想查什么查什么
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;densityDpi:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>densityDpi</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;fontScale:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>fontScale</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;hardKeyboardHidden:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>hardKeyboardHidden</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;keyboard:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>keyboard</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;keyboardHidden:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>keyboardHidden</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;locale:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>locale</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;mcc:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>mcc</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;mnc:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>mnc</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;navigation:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>navigation</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;navigationHidden:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>navigationHidden</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;orientation:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>orientation</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;screenHeightDp:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>screenHeightDp</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;screenWidthDp:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>screenWidthDp</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;screenLayout:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>screenLayout</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;smallestScreenWidthDp:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>densityDpi</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;touchscreen:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>densityDpi</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        status<span style=color:#f92672>.</span><span style=color:#a6e22e>append</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;uiMode:&#34;</span> <span style=color:#f92672>+</span> cfg<span style=color:#f92672>.</span><span style=color:#a6e22e>densityDpi</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        txtResult<span style=color:#f92672>.</span><span style=color:#a6e22e>setText</span><span style=color:#f92672>(</span>status<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h3 id=4-asynctask>4. AsyncTask</h3><p><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108163130253.png data-srcset="https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108163130253.png, https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108163130253.png 1.5x, https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108163130253.png 2x" data-sizes=auto alt=https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108163130253.png title=https://gitee.com/github-25970295/blogpictureV2/raw/master/image-20211108163130253.png></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyAsyncTask</span> <span style=color:#66d9ef>extends</span> AsyncTask<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span>Integer<span style=color:#f92672>,</span>String<span style=color:#f92672>&gt;</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> TextView txt<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> ProgressBar pgbar<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>MyAsyncTask</span><span style=color:#f92672>(</span>TextView txt<span style=color:#f92672>,</span>ProgressBar pgbar<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>txt</span> <span style=color:#f92672>=</span> txt<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>pgbar</span> <span style=color:#f92672>=</span> pgbar<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>//该方法不运行在UI线程中,主要用于异步操作,通过调用publishProgress()方法  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//触发onProgressUpdate对UI进行操作  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> String <span style=color:#a6e22e>doInBackground</span><span style=color:#f92672>(</span>Integer<span style=color:#f92672>...</span> params<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        DelayOperator dop <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DelayOperator<span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>i <span style=color:#f92672>=</span> 10<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;=</span> 100<span style=color:#f92672>;</span>i<span style=color:#f92672>+=</span>10<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            dop<span style=color:#f92672>.</span><span style=color:#a6e22e>delay</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>            publishProgress<span style=color:#f92672>(</span>i<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>  i <span style=color:#f92672>+</span> params<span style=color:#f92672>[</span>0<span style=color:#f92672>].</span><span style=color:#a6e22e>intValue</span><span style=color:#f92672>()</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>//该方法运行在UI线程中,可对UI控件进行设置  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onPreExecute</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        txt<span style=color:#f92672>.</span><span style=color:#a6e22e>setText</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;开始执行异步线程~&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>//在doBackground方法中,每次调用publishProgress方法都会触发该方法  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//运行在UI线程中,可对UI控件进行操作  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onProgressUpdate</span><span style=color:#f92672>(</span>Integer<span style=color:#f92672>...</span> values<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> value <span style=color:#f92672>=</span> values<span style=color:#f92672>[</span>0<span style=color:#f92672>];</span>  
</span></span><span style=display:flex><span>        pgbar<span style=color:#f92672>.</span><span style=color:#a6e22e>setProgress</span><span style=color:#f92672>(</span>value<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyActivity</span> <span style=color:#66d9ef>extends</span> ActionBarActivity <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> TextView txttitle<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> ProgressBar pgbar<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Button btnupdate<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>Bundle savedInstanceState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>onCreate</span><span style=color:#f92672>(</span>savedInstanceState<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        setContentView<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>layout</span><span style=color:#f92672>.</span><span style=color:#a6e22e>activity_main</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        txttitle <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>TextView<span style=color:#f92672>)</span>findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>txttitle</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        pgbar <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>ProgressBar<span style=color:#f92672>)</span>findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>pgbar</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        btnupdate <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Button<span style=color:#f92672>)</span>findViewById<span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>id</span><span style=color:#f92672>.</span><span style=color:#a6e22e>btnupdate</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        btnupdate<span style=color:#f92672>.</span><span style=color:#a6e22e>setOnClickListener</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> View<span style=color:#f92672>.</span><span style=color:#a6e22e>OnClickListener</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>@Override</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>(</span>View v<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                MyAsyncTask myTask <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MyAsyncTask<span style=color:#f92672>(</span>txttitle<span style=color:#f92672>,</span>pgbar<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                myTask<span style=color:#f92672>.</span><span style=color:#a6e22e>execute</span><span style=color:#f92672>(</span>1000<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>});</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span> 
</span></span></code></pre></div><h3 id=5-resource>5. Resource</h3><ul><li>todo？ 这种监听或者回调模式设计思想，举Button 案例</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>//view 基类通过setOnClickListener() 注入OnClickListener 监听处理事件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setOnClickListener</span><span style=color:#f92672>(</span>OnClickListener l<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Stub!&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Button 案件继承TextView
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Button</span> <span style=color:#66d9ef>extends</span> TextView <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// TextView 继承View 和 ViewTreeObserver.OnPreDrawListener，后面这个类负责事件监听
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TextView</span> <span style=color:#66d9ef>extends</span> View <span style=color:#66d9ef>implements</span> ViewTreeObserver<span style=color:#f92672>.</span><span style=color:#a6e22e>OnPreDrawListener</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p><img class=lazyload src=/liudongdong1.github.io/svg/loading.min.svg data-src=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20221224152519789.png data-srcset="https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20221224152519789.png, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20221224152519789.png 1.5x, https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20221224152519789.png 2x" data-sizes=auto alt=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20221224152519789.png title=https://gitee.com/github-25970295/blogimgv2022/raw/master/image-20221224152519789.png></p><ul><li>view， viewgroup，layout，ViewTreeObserver 之间关系： <a href=https://blog.csdn.net/HardWorkingAnt/article/details/77408329 target=_blank rel="external nofollow noopener noreferrer">https://blog.csdn.net/HardWorkingAnt/article/details/77408329<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2023-09-24 17:00:03">更新于 2023-09-24&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=liudongdong1.github.io/android_event/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span><span><a href=https://liudongdong1.github.io/edit/master/content/posts%5cAndroid%5c%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86%5cAndroid_Event.md title=编辑此页 target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>编辑此页</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=liudongdong1.github.io/android_event/ data-title=Android_Event data-hashtags=Android><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=liudongdong1.github.io/android_event/ data-hashtag=Android><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=liudongdong1.github.io/android_event/ data-title=Android_Event data-image=https://cdn.stocksnap.io/img-thumbs/280h/CPZJJ7K3YJ.jpg><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=liudongdong1.github.io/tags/android/>Android</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=liudongdong1.github.io/>主页</a></span></section></div><div class=post-nav><a href=liudongdong1.github.io/android_fragment/ class=prev rel=prev title=Android_fragment><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Android_fragment</a>
<a href=liudongdong1.github.io/android_async/ class=next rel=next title=Android_Async>Android_Async<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line powered">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.118.2">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.17-RC"><img class=fixit-icon src=/liudongdong1.github.io/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2020 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=https://liudongdong1.github.io/ target=_blank rel="external nofollow noopener noreferrer">LiuDongdong</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"><span class=site-time title='网站运行中 ...'><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden=true></i>&nbsp;<span class=run-times>网站运行中 ...</span></span></div><div class="footer-line ibruce"><span id=busuanzi_container_site_uv title=总访客数><i class="fa-regular fa-user fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=总访问量><i class="fa-regular fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div></div><a href=https://liudongdong1.github.io/ title="在 GitHub 上查看源代码" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0;--bg-progress:#0076ff;--bg-progress-dark:#fff></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/liudongdong1.github.io/lib/katex/katex.min.css><link rel=stylesheet href=/liudongdong1.github.io/lib/cookieconsent/cookieconsent.min.css><script src=/liudongdong1.github.io/lib/autocomplete/autocomplete.min.js defer></script><script src=/liudongdong1.github.io/lib/algoliasearch/algoliasearch-lite.umd.min.js defer></script><script src=/liudongdong1.github.io/lib/lazysizes/lazysizes.min.js async defer></script><script src=/liudongdong1.github.io/lib/sharer/sharer.min.js async defer></script><script src=/liudongdong1.github.io/lib/typeit/index.umd.js defer></script><script src=/liudongdong1.github.io/lib/katex/katex.min.js defer></script><script src=/liudongdong1.github.io/lib/katex/auto-render.min.js defer></script><script src=/liudongdong1.github.io/lib/katex/copy-tex.min.js defer></script><script src=/liudongdong1.github.io/lib/katex/mhchem.min.js defer></script><script src=/liudongdong1.github.io/lib/cookieconsent/cookieconsent.min.js defer></script><script src=/liudongdong1.github.io/lib/pangu/pangu.min.js defer></script><script src=/liudongdong1.github.io/lib/cell-watermark/watermark.min.js defer></script><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:10},comment:{enable:!1},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},data:{"typeit-header-subtitle-desktop":`<span style='font-family: MMT,"沐目体";'>吾日三省吾身</span>`,"typeit-header-subtitle-mobile":`<span style='font-family: MMT,"沐目体";'>吾日三省吾身</span>`},enablePWA:!0,enablePangu:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"2R1K9SKLQZ",algoliaIndex:"index.zh-cn",algoliaSearchKey:"4a226aa1c5c98d6859e4d1386adb2bc7",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"},siteTime:"2020-12-18T16:15:22+08:00",typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"typeit-header-subtitle-desktop":["typeit-header-subtitle-desktop"],"typeit-header-subtitle-mobile":["typeit-header-subtitle-mobile"]},duration:-1,speed:100},watermark:{appendto:".wrapper>main",colspacing:30,content:'<img class="fixit-icon" src="/fixit.min.svg" alt="FixIt logo" /> FixIt 主题',enable:!0,fontfamily:"inherit",fontsize:.85,height:21,opacity:.0125,rotate:15,rowspacing:60,width:150}}</script><script src=/liudongdong1.github.io/js/theme.min.js defer></script><script src=/liudongdong1.github.io/js/custom.min.js defer></script></body></html>