<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>OpenCAS介绍 - DAY By DAY</title><meta name="author" content="LiuDongdong">
<meta name="author-link" content="https://liudongdong1.github.io/">
<meta name="description" content="Open Cache Acceleration Software (Open CAS) is an open source project encompassing block caching software libraries, adapters, tools and more. The main goal of this cache acceleration software is to accelerate a backend block device(s) by utilizing a higher performance device(s). Open CAS Framework CAS是 Intel® 通过I/O分类和在高速介质上缓存" /><meta name="keywords" content='Storage, Framework' /><meta itemprop="name" content="OpenCAS介绍">
<meta itemprop="description" content="Open Cache Acceleration Software (Open CAS) is an open source project encompassing block caching software libraries, adapters, tools and more. The main goal of this cache acceleration software is to accelerate a backend block device(s) by utilizing a higher performance device(s). Open CAS Framework CAS是 Intel® 通过I/O分类和在高速介质上缓存"><meta itemprop="datePublished" content="2022-04-29T16:00:04+00:00" />
<meta itemprop="dateModified" content="2023-12-31T15:30:45+08:00" />
<meta itemprop="wordCount" content="1769"><meta itemprop="image" content="https://liudongdong1.github.io/logo.png"/>
<meta itemprop="keywords" content="Storage,Framework," /><meta property="og:title" content="OpenCAS介绍" />
<meta property="og:description" content="Open Cache Acceleration Software (Open CAS) is an open source project encompassing block caching software libraries, adapters, tools and more. The main goal of this cache acceleration software is to accelerate a backend block device(s) by utilizing a higher performance device(s). Open CAS Framework CAS是 Intel® 通过I/O分类和在高速介质上缓存" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://liudongdong1.github.io/opencas/" /><meta property="og:image" content="https://liudongdong1.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-29T16:00:04+00:00" />
<meta property="article:modified_time" content="2023-12-31T15:30:45+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://liudongdong1.github.io/logo.png"/>

<meta name="twitter:title" content="OpenCAS介绍"/>
<meta name="twitter:description" content="Open Cache Acceleration Software (Open CAS) is an open source project encompassing block caching software libraries, adapters, tools and more. The main goal of this cache acceleration software is to accelerate a backend block device(s) by utilizing a higher performance device(s). Open CAS Framework CAS是 Intel® 通过I/O分类和在高速介质上缓存"/>
<meta name="application-name" content="DAY By DAY">
<meta name="apple-mobile-web-app-title" content="DAY By DAY"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://liudongdong1.github.io/opencas/" /><link rel="prev" href="https://liudongdong1.github.io/spdk_paper/" /><link rel="next" href="https://liudongdong1.github.io/%E5%AD%98%E5%82%A8%E5%8D%8F%E8%AE%AE-nvme%E4%BB%8B%E7%BB%8D/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "OpenCAS介绍",
    "inLanguage": "zh-CN",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https:\/\/liudongdong1.github.io\/opencas\/"
    },"genre": "posts","keywords": "Storage, Framework","wordcount":  1769 ,
    "url": "https:\/\/liudongdong1.github.io\/opencas\/","datePublished": "2022-04-29T16:00:04+00:00","dateModified": "2023-12-31T15:30:45+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
      "@type": "Organization",
      "name": "LiuDongdong","logo": "https:\/\/liudongdong1.github.io\/images\/person.png"},"author": {
        "@type": "Person",
        "name": "liudongdong1"
      },"description": ""
  }
  </script></head>
  <body data-header-desktop="auto" data-header-mobile="auto"><script>(window.localStorage?.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('data-theme', 'dark');</script><div class="wrapper"><script type="text/javascript"
        async
        src="https://cdnjs.cloudflare.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>
<header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper" data-github-corner="right">
    <div class="header-title">
      <a href="/" title="DAY By DAY"><img
    class="lazyload logo"
    src="/svg/loading.min.svg"
    data-src="/fixit.min.svg"
    data-srcset="/fixit.min.svg, /fixit.min.svg 1.5x, /fixit.min.svg 2x"
    data-sizes="auto"
    alt="DAY By DAY"
    title="DAY By DAY"/><span class="header-title-text"></span></a><span id="typeit-header-subtitle-desktop" class="typeit header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a
                class="menu-link"
                href="/posts/"
                
                
              ><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> 所有文章</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/categories/"
                
                
              ><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden="true"></i> 分类</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/tags/"
                
                
              ><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> 标签</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/friends/"
                title="友情链接"
                
              ><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden="true"></i> 友链</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/about/"
                
                
              ><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden="true"></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item language">
            <span role="button" aria-label="选择语言" title="选择语言">简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden="true"></i>
            </span>
            <ul class="sub-menu"><li class="menu-item">没有更多翻译</li></ul>
          </li><li class="menu-item search" id="search-desktop">
            <input type="text" placeholder="搜索文章标题或内容 ..." id="search-input-desktop">
            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
              <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
            </a>
            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
              <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
            </a>
            <span class="search-button search-loading" id="search-loading-desktop">
              <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
            </span>
          </li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li>
      </ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="DAY By DAY"><img
    class="lazyload logo"
    src="/svg/loading.min.svg"
    data-src="/fixit.min.svg"
    data-srcset="/fixit.min.svg, /fixit.min.svg 1.5x, /fixit.min.svg 2x"
    data-sizes="auto"
    alt="/fixit.min.svg"
    title="/fixit.min.svg"/><span class="header-title-text"></span></a><span id="typeit-header-subtitle-mobile" class="typeit header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="search-wrapper">
            <div class="search mobile" id="search-mobile">
              <input type="text" placeholder="搜索文章标题或内容 ..." id="search-input-mobile">
              <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
              </a>
              <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
              </a>
              <span class="search-button search-loading" id="search-loading-mobile">
                <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
              </span>
            </div>
            <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
              取消
            </a>
          </li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/posts/"
                  
                  
                ><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> 所有文章</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/categories/"
                  
                  
                ><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden="true"></i> 分类</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/tags/"
                  
                  
                ><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> 标签</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/friends/"
                  title="友情链接"
                  
                ><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden="true"></i> 友链</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/about/"
                  
                  
                ><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden="true"></i> 关于</a></li><li
              class="menu-item text-center"
            ><a
                  class="menu-link"
                  href="/"
                  title="GitHub"
                  
                ><i class='fa-brands fa-github fa-fw' aria-hidden='true'></i> </a></li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li><li class="menu-item language">
            <span role="button" aria-label="选择语言" title="选择语言">简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden="true"></i>
            </span>
            <select class="language-select" onchange="location = this.value;"><option disabled>没有更多翻译</option></select>
          </li></ul>
    </nav>
  </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
  </div>
  <div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
  </div><main class="container" data-page-style="normal"><aside class="toc" id="toc-auto"><h2 class="toc-title">目录 <i class="toc-icon fa-solid fa-angle-down fa-fw"></i></h2>
      <div class="toc-content" id="toc-content-auto"></div></aside>

  <aside class="aside-custom" id="aside-sakana">
    

<div class="sakana-widget">
  <div class="sakana-item" id="takina-widget"></div>
  <div class="sakana-item" id="chisato-widget"></div>
</div>
<script>
  function initSakanaWidget() {
    const takina = SakanaWidget.getCharacter('takina')
    SakanaWidget.registerCharacter('takina-slow', takina);
    new SakanaWidget({
      character: 'takina-slow',
      controls: false,
      autoFit: true,
      stroke: {
        color: "#b4b4b4",
        width: 2
      }
    }).mount('#takina-widget');

    const chisato = SakanaWidget.getCharacter('chisato')
    SakanaWidget.registerCharacter('chisato-slow', chisato);
    new SakanaWidget({
      character: 'chisato-slow',
      controls: false,
      autoFit: true,
      stroke: {
        color: "#b4b4b4",
        width: 2
      }
    }).mount('#chisato-widget');
  }
</script>
<script async onload="initSakanaWidget()" src="https://cdn.jsdelivr.net/npm/sakana-widget@2.3.0/lib/sakana.min.js">
</script></aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX">
        <span>OpenCAS介绍</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><span class="author"><i class="fa-solid fa-user-circle" aria-hidden="true"></i>
      liudongdong1</span></span>
          <span class="post-category">收录于 <a href="/categories/storage/"><i class="fa-regular fa-folder fa-fw"></i>&nbsp;Storage</a></span></div>
      <div class="post-meta-line"><span title=2022-04-29&#32;16:00:04>
            <i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-04-29" >2022-04-29</time>
          </span>&nbsp;<i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;约 1769 字&nbsp;
        <i class="fa-regular fa-clock fa-fw"></i>&nbsp;预计阅读 4 分钟&nbsp;<span id="busuanzi_container_page_pv" class="busuanzi_visitors comment-visitors" data-flag-title="OpenCAS介绍">
            <i class="fa-regular fa-eye fa-fw"></i>&nbsp;<span id="busuanzi_value_page_pv">-</span>&nbsp;次阅读
          </span>&nbsp;</div>
    </div><div class="featured-image"><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://cdn.stocksnap.io/img-thumbs/280h/AMCJH0MCCH.jpg"
    data-srcset="https://cdn.stocksnap.io/img-thumbs/280h/AMCJH0MCCH.jpg, https://cdn.stocksnap.io/img-thumbs/280h/AMCJH0MCCH.jpg 1.5x, https://cdn.stocksnap.io/img-thumbs/280h/AMCJH0MCCH.jpg 2x"
    data-sizes="auto"
    alt="https://cdn.stocksnap.io/img-thumbs/280h/AMCJH0MCCH.jpg"
    title="https://cdn.stocksnap.io/img-thumbs/280h/AMCJH0MCCH.jpg"/></div><div class="details toc" id="toc-static" kept="true">
        <div class="details-summary toc-title">
          <span>目录</span>
          <span><i class="details-icon fa-solid fa-angle-right"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#open-cas-framework">Open CAS Framework</a></li>
        <li><a href="#cache">Cache</a></li>
        <li><a href="#caching-solutions">Caching solutions</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
      </div><div
      class="content"
      id="content"
      
      
    ><blockquote>
<p>Open Cache Acceleration Software (Open CAS) is an open source project encompassing <code>block caching software libraries, adapters, tools and more</code>. The main goal of this cache acceleration software is to <code>accelerate a backend block device(s) by utilizing a higher performance device(s).</code></p>
</blockquote>
<h3 id="open-cas-framework">Open CAS Framework</h3>
<p>CAS是 Intel® 通过<code>I/O分类和在高速介质上缓存经常使用的数据来加速存储性能</code>而开发的企业级软件解决方案。支持Linux和Windows平台。CAS通过加载到kernel的方式，<code>将一块高速盘和慢速盘“融合”为一块盘，像其他的物理盘一样，挂载到文件系统上</code>。因此不需要对系统或应用做任何修改就可以使用，可以<code>认为CAS运行在内核态</code>。</p>
<p><code>CAS 通过和内存的交互管理建立多层次的缓存</code>，来优化系统内存的使用，同时也能够<code>自动根据数据本身特性去确定最好的缓存分配</code>。CAS 目前已经在业界广泛使用，能够以很小的额外成本，显著提升I/O性能。</p>
<ul>
<li>把大容量，慢速的存储设备称为core device, 在上图中可以认为HDD就是core device. 然后把小容量，高速的存储设备称为cache device。</li>
</ul>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://img1.sdnlab.com//wp-content/uploads/2019/06/24/dpdk001-.png"
    data-srcset="https://img1.sdnlab.com//wp-content/uploads/2019/06/24/dpdk001-.png, https://img1.sdnlab.com//wp-content/uploads/2019/06/24/dpdk001-.png 1.5x, https://img1.sdnlab.com//wp-content/uploads/2019/06/24/dpdk001-.png 2x"
    data-sizes="auto"
    alt="img"
    title="img"/></p>
<blockquote>
<p>Open CAS Framwework (OCF) is <code>high performance block storage caching meta-library written in C</code>. It’s entirely platform and system independent, accessing system API through user provided environment wrappers layer.</p>
<ul>
<li>primarily designed to <code>cache data from HDD drives on SSDs</code></li>
<li>caching data <code>from QLC SSD on TLC SSD, Optane drives, RAM memory, or any combination of above including all kinds of multilevel configurations</code></li>
</ul>
</blockquote>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152552210.png"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152552210.png, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152552210.png 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152552210.png 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152552210.png"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152552210.png"/></p>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152723560.png"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152723560.png, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152723560.png 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152723560.png 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152723560.png"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818152723560.png"/></p>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818153151138.png"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818153151138.png, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818153151138.png 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818153151138.png 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818153151138.png"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/image-20220818153151138.png"/></p>
<h3 id="cache">Cache</h3>
<blockquote>
<ul>
<li>a component that mediates data exchange between an application and a backend storage.</li>
<li>selectively storing most accessed data on a relatively smaller and faster <strong>cache storage</strong></li>
</ul>
</blockquote>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache.png"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache.png, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache.png 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache.png 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache.png"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache.png"/></p>
<h4 id="cache-mode">cache mode</h4>
<ul>
<li>Write-Through（WT）：<code>I/O在写到cache device的同时，也会直接write-through到后端的core device</code>。WT模式保证了数据在core device和cache device总是同步的，因此不用担心突然掉电造成的缓存数据丢失。因为每次数据依然要<code>写到慢速的后端设备，所以这个模式只能够加速数据读取的过程.</code></li>
<li>Write-Back （WB）：I/O写时，数据<code>首先写到cache device，然后就会告诉应用写完毕</code>。这些<code>写操作会周期性的写回到core device</code>。这里CAS可以选择不同的<code>cleaning policy</code>。比如<code>ALRU（Approximately Least Recently Used），ACP（Aggressive Cleaning Policy）或者 NOP（No Operation，即不自动写回，而由用户主动的做flush操作）</code>。因此，WB模式能够既加速读操作，又加速写操作。但是也会有<code>突然掉电造成缓存数据没有及时写回到core device而导致数据丢失</code>的情况。</li>
<li>Write-Around (WA):
<ul>
<li>缓存污染（cache pollution）。首先我们要知道cache device和core device其实是通过cache line和core line的mapping确定对应关系的。缓存污染表示<code>很多不常用的数据被缓存到了cache device中</code>。那么在后面新的写I/O的情况下，没有空闲的cache line，没有足够的空间去做mapping，此时需要逐出（evict）某条对应的cache line mapping，这就造成了额外的开销。</li>
<li>WA模式有点类似于WT模式，不同的是，<code>写操作只有在cache line有对应的core line的情况下（即这部分数据已经被读缓存过）会同时更新cache device和core device</code>。其他情况，则直接写到core device。因此WA模式也只能加速读操作，并且保证了数据的一致性。而且还能避免缓存污染这样的情况。</li>
</ul>
</li>
<li>Write-Invalidate（WI）
<ul>
<li>在这个模式中，只有<code>读操作会被map到缓存中</code>。<code>对于写操作，会直接写入到core device</code>，同时，如果<code>有对应的cache line在缓存中，就让这条cache line变为无效</code>。WI模式对于读密集型I/O有更好的加速作用。并且能够减少缓存的evict操作。</li>
</ul>
</li>
<li>Pass-Through (PT)
很好理解，PT模式即<code>所有IO直接绕过cache device直接和core device交互。</code></li>
</ul>
<h4 id="core">core</h4>
<blockquote>
<p>The <strong>core</strong> object is an abstraction that allows application access to <strong>backend storage</strong> cached by a <a href="https://open-cas.github.io/cache.html"target="_blank" rel="external nofollow noopener noreferrer"><strong>cache</strong><i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a>.</p>
<p>It provides <code>API for submitting I/O requests</code>, which are handled according to current <a href="https://open-cas.github.io/cache_configuration.html"target="_blank" rel="external nofollow noopener noreferrer"><strong>cache mode</strong><i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a> and other <strong>cache</strong> and <strong>core</strong> configuration parameters.</p>
<p>During normal <strong>cache</strong> operation the <strong>backend storage</strong> is exclusively owned by the <strong>cache</strong> object, and application should never access it directly unless the <strong>core</strong> is removed from the <strong>cache</strong>. That’s it, using the <strong>core</strong> API is the only proper way of accessing the data on the <strong>backend storage</strong>.</p>
</blockquote>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/core.png"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/core.png, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/core.png 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/core.png 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/core.png"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/core.png"/></p>
<h4 id="cache-line">cache line</h4>
<blockquote>
<ul>
<li>A <strong>cache line</strong> is the smallest portion of data that can be mapped into a <a href="https://open-cas.github.io/cache.html"target="_blank" rel="external nofollow noopener noreferrer"><strong>cache</strong><i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a>. Every mapped <strong>cache line</strong> is associated with a <strong>core line</strong>, which is a corresponding region on a <strong>backend storage</strong>.</li>
<li>cache line: core id, core line numver, valid and dirty bits</li>
</ul>
</blockquote>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache_line.png"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache_line.png, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache_line.png 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache_line.png 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache_line.png"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/cache_line.png"/></p>
<h4 id="volume">volume</h4>
<blockquote>
<ul>
<li>A <strong>volume</strong> is generic representation of a storage, that allows OCF to <code>access different types of storages using common abstract interface. </code></li>
<li>OCF uses a <strong>volume</strong> interface for accessing both <strong>backend storage</strong> and <strong>cache storage</strong></li>
<li>Storage represented by <strong>volume</strong> may be any kind of storage that allows for random block access - it may be HDD or SSD drive, ramdisk, network storage or any other kind of non-volatile or volatile memory.</li>
</ul>
</blockquote>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/volume.png"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/volume.png, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/volume.png 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/volume.png 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/volume.png"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/volume.png"/></p>
<h3 id="caching-solutions">Caching solutions</h3>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_examples.jpg"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_examples.jpg, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_examples.jpg 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_examples.jpg 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_examples.jpg"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_examples.jpg"/></p>
<h4 id="opencas-linux">OpenCAS Linux</h4>
<blockquote>
<p>Open CAS Linux accelerates Linux applications by <code>caching active (*hot*) data to a local flash device</code> inside servers.</p>
</blockquote>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_software_stack_layers.jpg"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_software_stack_layers.jpg, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_software_stack_layers.jpg 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_software_stack_layers.jpg 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_software_stack_layers.jpg"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/ocf_software_stack_layers.jpg"/></p>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/guide_figure1.jpg"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/guide_figure1.jpg, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/guide_figure1.jpg 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/guide_figure1.jpg 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/guide_figure1.jpg"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/guide_figure1.jpg"/></p>
<blockquote>
<ul>
<li>initial read data is retrieved from backend storage and copied to the Open CAS Linux cache. A second read promotes data to system memory. Subsequent reads are returned at high-performance RAM or flash speed.</li>
<li>In Write-through mode, all data is written synchronously to both the backend storage and the cache.</li>
<li>In Write-back mode, all data is written to the cache then eventually flushed to the backend storage. When the cache is full, newly identified active data evicts stale data from the cache, utilizing the Open CAS Linux proprietary eviction algorithm.</li>
</ul>
</blockquote>
<h4 id="spdk-ocf-block-device">SPDK OCF Block Device</h4>
<p><img
    class="lazyload"
    src="/svg/loading.min.svg"
    data-src="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/spdk_software_stack_layers.jpg"
    data-srcset="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/spdk_software_stack_layers.jpg, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/spdk_software_stack_layers.jpg 1.5x, https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/spdk_software_stack_layers.jpg 2x"
    data-sizes="auto"
    alt="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/spdk_software_stack_layers.jpg"
    title="https://lddpicture.oss-cn-beijing.aliyuncs.com/picture/spdk_software_stack_layers.jpg"/></p>
</div>
<div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title=2023-12-31&#32;15:30:45>更新于 2023-12-31&nbsp;</span>
      </div><div class="post-info-license">
          <span><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span>
        </div></div>
    <div class="post-info-line">
      <div class="post-info-md"><span><a href="/opencas/index.md" title="阅读原始文档" class="link-to-markdown">阅读原始文档</a></span><span><a href="https://liudongdong1.github.io/edit/master/content/posts%5c%e5%ad%98%e5%82%a8%e8%ae%be%e8%ae%a1%5c%e7%bc%93%e5%ad%98%e8%ae%be%e8%ae%a1%5cOpenCAS.md" title="编辑此页"target="_blank" rel="external nofollow noopener noreferrer" class="link-to-edit">编辑此页</a></span></div>
      <div class="post-info-share">
        <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://liudongdong1.github.io/opencas/" data-title="OpenCAS介绍" data-hashtags="Storage,Framework"><i class="fa-brands fa-twitter fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://liudongdong1.github.io/opencas/" data-hashtag="Storage"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://liudongdong1.github.io/opencas/" data-title="OpenCAS介绍" data-image="https://cdn.stocksnap.io/img-thumbs/280h/AMCJH0MCCH.jpg"><i class="fa-brands fa-weibo fa-fw" aria-hidden="true"></i></a>
  </span>
      </div>
    </div>
  </div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/storage/">Storage</a>,&nbsp;<a href="/tags/framework/">Framework</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
    </section>
  </div>

  <div class="post-nav"><a href="/spdk_paper/" class="prev" rel="prev" title="SPDK_paper"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>SPDK_paper</a>
      <a href="/%E5%AD%98%E5%82%A8%E5%8D%8F%E8%AE%AE-nvme%E4%BB%8B%E7%BB%8D/" class="next" rel="next" title="NEMe介绍">NEMe介绍<i class="fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></main><footer class="footer">
    <div class="footer-container"><div class="footer-line powered">由 <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreferrer" title="Hugo 0.118.2">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/hugo-fixit/FixIt" target="_blank" rel="external" title="FixIt v0.2.17-RC"><img class="fixit-icon" src="/fixit.min.svg" alt="FixIt logo" />&nbsp;FixIt</a>
        </div><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2020 - 2024</span><span class="author" itemprop="copyrightHolder">
              <a href="https://liudongdong1.github.io/"target="_blank" rel="external nofollow noopener noreferrer">LiuDongdong</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div><div class="footer-line statistics"><span class="site-time" title='网站运行中 ...'><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden="true"></i>&nbsp;<span class="run-times">网站运行中 ...</span></span></div><div class="footer-line ibruce">
          <span id="busuanzi_container_site_uv" title='总访客数'><i class="fa-regular fa-user fa-fw" aria-hidden="true"></i>&nbsp;<span id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span><span id="busuanzi_container_site_pv" class="footer-divider" title='总访问量'><i class="fa-regular fa-eye fa-fw" aria-hidden="true"></i>&nbsp;<span id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span></span>
        </div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="回到顶部"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric">0%</span>
        </div></div><a href="https://liudongdong1.github.io/" title="在 GitHub 上查看源代码"target="_blank" rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><div id="mask"></div><div class="reading-progress-bar" style="left: 0;top: 0;--bg-progress: #0076ff;--bg-progress-dark: #fff;"></div><noscript>
    <div class="noscript-warning">FixIt 主题在启用 JavaScript 的情况下效果最佳。</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/autocomplete/autocomplete.min.js" defer></script><script src="/lib/algoliasearch/algoliasearch-lite.umd.min.js" defer></script><script src="/lib/lazysizes/lazysizes.min.js" async defer></script><script src="/lib/sharer/sharer.min.js" async defer></script><script src="/lib/typeit/index.umd.js" defer></script><script src="/lib/katex/katex.min.js" defer></script><script src="/lib/katex/auto-render.min.js" defer></script><script src="/lib/katex/copy-tex.min.js" defer></script><script src="/lib/katex/mhchem.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script src="/lib/pangu/pangu.min.js" defer></script><script src="/lib/cell-watermark/watermark.min.js" defer></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async defer></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","editLockTitle":"锁定可编辑代码块","editUnLockTitle":"解锁可编辑代码块","editable":true,"maxShownLines":10},"comment":{"enable":false},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验。"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"data":{"typeit-header-subtitle-desktop":"\u003cspan style='font-family: MMT,\"沐目体\";'\u003e吾日三省吾身\u003c/span\u003e","typeit-header-subtitle-mobile":"\u003cspan style='font-family: MMT,\"沐目体\";'\u003e吾日三省吾身\u003c/span\u003e"},"enablePWA":true,"enablePangu":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"2R1K9SKLQZ","algoliaIndex":"index.zh-cn","algoliaSearchKey":"4a226aa1c5c98d6859e4d1386adb2bc7","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"},"siteTime":"2020-12-18T16:15:22+08:00","typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"typeit-header-subtitle-desktop":["typeit-header-subtitle-desktop"],"typeit-header-subtitle-mobile":["typeit-header-subtitle-mobile"]},"duration":-1,"speed":100},"watermark":{"appendto":".wrapper\u003emain","colspacing":30,"content":"\u003cimg class=\"fixit-icon\" src=\"/fixit.min.svg\" alt=\"FixIt logo\" /\u003e FixIt 主题","enable":true,"fontfamily":"inherit","fontsize":0.85,"height":21,"opacity":0.0125,"rotate":15,"rowspacing":60,"width":150}};</script><script src="/js/theme.min.js" defer></script><script src="/js/custom.min.js" defer></script></body>
</html>
